{"version":3,"sources":["webpack:///./core/modules/eventBus.js","webpack:///./core/modules/refs.js","webpack:///./core/router/actions.js","webpack:///./core/Behaviour.js","webpack:////Users/davidmaxwell-wood/Sites/_MUD/PQRST/SGFG/node_modules/headroom.js/dist/headroom.js","webpack:///./behaviours/StickyHeader.js"],"names":["mitt__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","eventBus","Object","__webpack_exports__","sanitizeName","name","replace","$0","$1","toUpperCase","removeValueLess","ramda_src_filter__WEBPACK_IMPORTED_MODULE_11___default","_ref","value","getDataAttributes","attr","test","cleanName","ramda_src_map__WEBPACK_IMPORTED_MODULE_10___default","_ref2","substr","flattenToObject","ramda_src_reduce__WEBPACK_IMPORTED_MODULE_9___default","acc","_ref3","key","composeProps","ramda_src_compose__WEBPACK_IMPORTED_MODULE_8___default","node","concat","getAttribute","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_6___default","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default","attributes","gatherProps","d","ROUTER_POP_EVENT","ROUTER_PAGE_NOT_FOUND","ROUTE_TRANSITION_LOAD","ROUTE_TRANSITION_EXIT","ROUTE_TRANSITION_RESOLVED","ROUTE_TRANSITION_BEFORE_DOM_UPDATE","ROUTE_TRANSITION_AFTER_DOM_UPDATE","ROUTE_TRANSITION_ENTER","ROUTE_TRANSITION_COMPLETE","MixinBuilder","superclass","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","this","_len","arguments","length","mixins","Array","_key","reduce","c","mixin","mix","$html","document","getElementsByTagName","$body","body","KEY_CODES","DELETE_KEY","SHIFT_KEY","CTRL_KEY","ALT_KEY","RETURN_KEY","ESC_KEY","SPACE_KEY","LEFT_KEY","UP_KEY","RIGHT_KEY","DOWN_KEY","A_KEY","S_KEY","CMD_KEY","Behaviour","el","undefined","$name","$el","$$eventBus","_core_modules_eventBus__WEBPACK_IMPORTED_MODULE_4__","$data","_core_modules_refs__WEBPACK_IMPORTED_MODULE_3__","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default","routes","enter","on","_core_router_actions__WEBPACK_IMPORTED_MODULE_5__","exit","unmount","off","__WEBPACK_AMD_DEFINE_FACTORY__","__WEBPACK_AMD_DEFINE_ARRAY__","__WEBPACK_AMD_DEFINE_RESULT__","root","factory","features","bind","classList","documentElement","rAF","window","requestAnimationFrame","webkitRequestAnimationFrame","mozRequestAnimationFrame","Debouncer","callback","ticking","isDOMElement","obj","nodeType","Headroom","elem","options","extend","object","Error","i","result","replacement","lastKnownScrollY","tolerance","t","down","up","normalizeTolerance","classes","offset","scroller","initialised","onPin","onUnpin","onTop","onNotTop","onBottom","onNotBottom","prototype","constructor","update","requestTick","rafCallback","handleEvent","init","cutsTheMustard","debouncer","add","initial","setTimeout","attachEvent","destroy","hasOwnProperty","remove","removeEventListener","getScrollY","addEventListener","unpin","contains","pinned","unpinned","call","pin","top","notTop","bottom","notBottom","pageYOffset","scrollTop","parentNode","getViewportHeight","innerHeight","clientHeight","getElementPhysicalHeight","elm","Math","max","offsetHeight","getScrollerPhysicalHeight","getDocumentHeight","scrollHeight","getElementHeight","getScrollerHeight","isOutOfBounds","currentScrollY","pastTop","pastBottom","toleranceExceeded","direction","abs","shouldUnpin","scrollingDown","pastOffset","shouldPin","scrollingUp","scrollDirection","apply","exports","module","StickyHeader","_this","headroom","headroom_js__WEBPACK_IMPORTED_MODULE_7___default","a","_core_Behaviour__WEBPACK_IMPORTED_MODULE_6__"],"mappings":";;;;;yDAAA,IAAAA,EAAAC,aAAA,KAEMC,EAAWC,OAAAH,EAAA,EAAAG,GAEFC,EAAA;;;;;uqBCATC,mDAAe,SAAAC,GAAI,OAAIA,EAAKC,QAAQ,QAAS,SAACC,EAAIC,GAAL,OAAYA,EAAGC,kBAE5DC,EAAkBC,IAAS,SAAAC,GAAA,OAAAA,EAAGC,QAE9BC,EAAoBH,IACzB,SAAAI,GAAI,MACH,SAASC,KAAKD,EAAKV,OACL,iBAAdU,EAAKV,MACS,mBAAdU,EAAKV,OAGDY,EAAYC,IAAM,SAAAC,GAAA,IAAGd,EAAHc,EAAGd,KAAMQ,EAATM,EAASN,MAAT,OACvBR,KAAMD,EAAaC,EAAKe,OAAO,IAC/BP,WAGKQ,EAAkBC,IAAS,SAACC,EAADC,GAA+B,IAAjBC,EAAiBD,EAAvBnB,KAAWQ,EAAYW,EAAZX,MAEnD,OADAU,EAAIE,GAAOZ,EACJU,OAGKG,EAAeC,IAC3BN,EACAJ,EACAP,EACAI,GAKkBQ,IAAS,SAACC,EAAKK,GAMjC,OALAL,EAAG,GAAAM,OAAIzB,EAAawB,EAAKE,aAAa,mBAAtCC,KACCH,QAJkB,SAAAA,GAAI,OAAIF,EAAaM,IAAIJ,EAAKK,aAK7CC,CAAYN,IAGTL;;;;;4RCxCRvB,EAAAmC,EAAAhC,EAAA,sBAAAiC,IAAApC,EAAAmC,EAAAhC,EAAA,sBAAAkC,IAAArC,EAAAmC,EAAAhC,EAAA,sBAAAmC,IAAAtC,EAAAmC,EAAAhC,EAAA,sBAAAoC,IAAAvC,EAAAmC,EAAAhC,EAAA,sBAAAqC,IAAAxC,EAAAmC,EAAAhC,EAAA,sBAAAsC,IAAAzC,EAAAmC,EAAAhC,EAAA,sBAAAuC,IAAA1C,EAAAmC,EAAAhC,EAAA,sBAAAwC,IAAA3C,EAAAmC,EAAAhC,EAAA,sBAAAyC,IAMO,IAAMR,EAAmB,mBAEnBC,EAAwB,wBAIxBC,EAAwB,wBAExBC,EAAwB,wBAExBC,EAA4B,4BAE5BC,EACZ,qCAEYC,EACZ,oCAEYC,EAAyB,yBAEzBC,EAA4B;;;;;wYClBnCC,aACL,SAAAA,EAAYC,GAAYC,IAAAC,KAAAH,GACvBG,KAAKF,WAAaA,6CAGH,QAAAG,EAAAC,UAAAC,OAARC,EAAQ,IAAAC,MAAAJ,GAAAK,EAAA,EAAAA,EAAAL,EAAAK,IAARF,EAAQE,GAAAJ,UAAAI,GACf,OAAOF,EAAOG,OAAO,SAACC,EAAGC,GAAJ,OAAcA,EAAMD,IAAIR,KAAKF,qBAIvCY,EAAM,SAAAZ,GAAU,OAAI,IAAID,EAAaC,IAoDnC3C,EAAA,aACd,IAAMwD,EAAQC,SAASC,qBAAqB,QAAQ,GAC9CC,EAAQF,SAASG,KACjBC,GACLC,WAAY,EACZC,UAAW,GACXC,SAAU,GACVC,QAAS,GACTC,WAAY,GACZC,QAAS,GACTC,UAAW,GACXC,SAAU,GACVC,OAAQ,GACRC,UAAW,GACXC,SAAU,GACVC,MAAO,GACPC,MAAO,GACPC,QAAS,IAGV,kBACC,SAAAC,IAAsC,IAA1BC,EAA0B9B,UAAAC,OAAA,QAAA8B,IAAA/B,UAAA,GAAAA,UAAA,GAArBU,SAAUvD,EAAW6C,UAAAC,OAAA,QAAA8B,IAAA/B,UAAA,GAAAA,UAAA,GAAJ,GAAIH,IAAAC,KAAA+B,GACrC/B,KAAKkC,MAAQ7E,EACb2C,KAAKmC,IAAMH,EACXhC,KAAKc,MAAQA,EACbd,KAAKW,MAAQA,EAEbX,KAAKoC,WAAaC,EAAA,EAElBrC,KAAKgB,UAAYA,EAEjBhB,KAAKsC,MAAQtC,KAAKmC,IAAIlD,WACnB/B,OAAAqF,EAAA,EAAArF,CAAasF,IAAIxC,KAAKmC,IAAIlD,aAC1B,KAbL,OAAAwD,IAAAV,IAAAtD,IAAA,OAAAZ,MAAA,WAyBMmC,KAAK0C,SACJ1C,KAAK0C,OAAOC,OACf3C,KAAKoC,WAAWQ,GAAGC,EAAA,EAAgC7C,KAAK0C,OAAOC,OAE5D3C,KAAK0C,OAAOI,MACf9C,KAAKoC,WAAWQ,GAAGC,EAAA,EAA+B7C,KAAK0C,OAAOI,UA9BlErE,IAAA,QAAAZ,MAAA,eAAAY,IAAA,UAAAZ,MAAA,eAAAY,IAAA,UAAAZ,MAAA,WA+DEmC,KAAK+C,UAED/C,KAAK0C,SACJ1C,KAAK0C,OAAOC,OACf3C,KAAKoC,WAAWY,IAAIH,EAAA,EAAgC7C,KAAK0C,OAAOC,OAE7D3C,KAAK0C,OAAOI,MACf9C,KAAKoC,WAAWY,IAAIH,EAAA,EAA+B7C,KAAK0C,OAAOI,WAtEnEf,EAAA,GApBc;;;;;;sFCtEf,IAAAkB,EAAAC,EAAAC;;;;;;;;;;;CAMA,SAAAC,EAAAC,GACA,aAIIH,UAAkBjB,KAAAkB,EAAA,mBAATF,EAUZ,WAKD,IAAAK,GACAC,OAAA,aAA0B,KAC1BC,UAAA,cAAA5C,SAAA6C,gBACAC,OAAAC,OAAAC,uBAAAD,OAAAE,6BAAAF,OAAAG,2BASA,SAAAC,EAAAC,GACAhE,KAAAgE,WACAhE,KAAAiE,SAAA,EAqCA,SAAAC,EAAAC,GACA,OAAAA,GAAA,oBAAAR,SAAAQ,IAAAR,QAAAQ,EAAAC,UA+CA,SAAAC,EAAAC,EAAAC,GACAA,EA1CA,SAAAC,EAAAC,GACA,GAAAvE,UAAAC,QAAA,EACA,UAAAuE,MAAA,wCAGA,IACAjG,EACAkG,EAFAC,EAAAH,MAIA,IAAAE,EAAA,EAAeA,EAAAzE,UAAAC,OAAsBwE,IAAA,CACrC,IAAAE,EAAA3E,UAAAyE,OAEA,IAAAlG,KAAAoG,EAEA,iBAAAD,EAAAnG,IAAAyF,EAAAU,EAAAnG,IAIAmG,EAAAnG,GAAAmG,EAAAnG,IAAAoG,EAAApG,GAHAmG,EAAAnG,GAAA+F,EAAAI,EAAAnG,GAAAoG,EAAApG,IAQA,OAAAmG,EAmBAJ,CAAAD,EAAAF,EAAAE,SAEAvE,KAAA8E,iBAAA,EACA9E,KAAAsE,OACAtE,KAAA+E,UAjBA,SAAAC,GACA,OAAAA,IAAA9H,OAAA8H,MAAkCC,KAAAD,EAAAE,GAAAF,GAgBlCG,CAAAZ,EAAAQ,WACA/E,KAAAoF,QAAAb,EAAAa,QACApF,KAAAqF,OAAAd,EAAAc,OACArF,KAAAsF,SAAAf,EAAAe,SACAtF,KAAAuF,aAAA,EACAvF,KAAAwF,MAAAjB,EAAAiB,MACAxF,KAAAyF,QAAAlB,EAAAkB,QACAzF,KAAA0F,MAAAnB,EAAAmB,MACA1F,KAAA2F,SAAApB,EAAAoB,SACA3F,KAAA4F,SAAArB,EAAAqB,SACA5F,KAAA6F,YAAAtB,EAAAsB,YAqUA,OAlbAlC,OAAAC,sBAAAD,OAAAC,uBAAAD,OAAAE,6BAAAF,OAAAG,yBAWAC,EAAA+B,WACAC,YAAAhC,EAMAiC,OAAA,WACAhG,KAAAgE,UAAAhE,KAAAgE,WACAhE,KAAAiE,SAAA,GAOAgC,YAAA,WACAjG,KAAAiE,UACAL,sBAAA5D,KAAAkG,cAAAlG,KAAAkG,YAAAlG,KAAAgG,OAAAzC,KAAAvD,QACAA,KAAAiE,SAAA,IAOAkC,YAAA,WACAnG,KAAAiG,gBAyEA5B,EAAAyB,WACAC,YAAA1B,EAKA+B,KAAA,WACA,GAAA/B,EAAAgC,eAWA,OAPArG,KAAAsG,UAAA,IAAAvC,EAAA/D,KAAAgG,OAAAzC,KAAAvD,OACAA,KAAAsE,KAAAd,UAAA+C,IAAAvG,KAAAoF,QAAAoB,SAIAC,WAAAzG,KAAA0G,YAAAnD,KAAAvD,MAAA,KAEAA,MAMA2G,QAAA,WACA,IAAAvB,EAAApF,KAAAoF,QAIA,QAAA3G,KAFAuB,KAAAuF,aAAA,EAEAH,EACAA,EAAAwB,eAAAnI,IACAuB,KAAAsE,KAAAd,UAAAqD,OAAAzB,EAAA3G,IAIAuB,KAAAsF,SAAAwB,oBAAA,SAAA9G,KAAAsG,WAAA,IAOAI,YAAA,WACA1G,KAAAuF,cACAvF,KAAA8E,iBAAA9E,KAAA+G,aACA/G,KAAAuF,aAAA,EACAvF,KAAAsF,SAAA0B,iBAAA,SAAAhH,KAAAsG,WAAA,GAEAtG,KAAAsG,UAAAH,gBAOAc,MAAA,WACA,IAAAzD,EAAAxD,KAAAsE,KAAAd,UACA4B,EAAApF,KAAAoF,SAEA5B,EAAA0D,SAAA9B,EAAA+B,SAAA3D,EAAA0D,SAAA9B,EAAAgC,YACA5D,EAAA+C,IAAAnB,EAAAgC,UACA5D,EAAAqD,OAAAzB,EAAA+B,QACAnH,KAAAyF,SAAAzF,KAAAyF,QAAA4B,KAAArH,QAOAsH,IAAA,WACA,IAAA9D,EAAAxD,KAAAsE,KAAAd,UACA4B,EAAApF,KAAAoF,QAEA5B,EAAA0D,SAAA9B,EAAAgC,YACA5D,EAAAqD,OAAAzB,EAAAgC,UACA5D,EAAA+C,IAAAnB,EAAA+B,QACAnH,KAAAwF,OAAAxF,KAAAwF,MAAA6B,KAAArH,QAOAuH,IAAA,WACA,IAAA/D,EAAAxD,KAAAsE,KAAAd,UACA4B,EAAApF,KAAAoF,QAEA5B,EAAA0D,SAAA9B,EAAAmC,OACA/D,EAAA+C,IAAAnB,EAAAmC,KACA/D,EAAAqD,OAAAzB,EAAAoC,QACAxH,KAAA0F,OAAA1F,KAAA0F,MAAA2B,KAAArH,QAOAwH,OAAA,WACA,IAAAhE,EAAAxD,KAAAsE,KAAAd,UACA4B,EAAApF,KAAAoF,QAEA5B,EAAA0D,SAAA9B,EAAAoC,UACAhE,EAAA+C,IAAAnB,EAAAoC,QACAhE,EAAAqD,OAAAzB,EAAAmC,KACAvH,KAAA2F,UAAA3F,KAAA2F,SAAA0B,KAAArH,QAIAyH,OAAA,WACA,IAAAjE,EAAAxD,KAAAsE,KAAAd,UACA4B,EAAApF,KAAAoF,QAEA5B,EAAA0D,SAAA9B,EAAAqC,UACAjE,EAAA+C,IAAAnB,EAAAqC,QACAjE,EAAAqD,OAAAzB,EAAAsC,WACA1H,KAAA4F,UAAA5F,KAAA4F,SAAAyB,KAAArH,QAOA0H,UAAA,WACA,IAAAlE,EAAAxD,KAAAsE,KAAAd,UACA4B,EAAApF,KAAAoF,QAEA5B,EAAA0D,SAAA9B,EAAAsC,aACAlE,EAAA+C,IAAAnB,EAAAsC,WACAlE,EAAAqD,OAAAzB,EAAAqC,QACAzH,KAAA6F,aAAA7F,KAAA6F,YAAAwB,KAAArH,QASA+G,WAAA,WACA,YAAA9E,IAAAjC,KAAAsF,SAAAqC,YACA3H,KAAAsF,SAAAqC,iBACA1F,IAAAjC,KAAAsF,SAAAsC,UACA5H,KAAAsF,SAAAsC,WACAhH,SAAA6C,iBAAA7C,SAAAG,KAAA8G,YAAAjH,SAAAG,MAAA6G,WAQAE,kBAAA,WACA,OAAAnE,OAAAoE,aACAnH,SAAA6C,gBAAAuE,cACApH,SAAAG,KAAAiH,cAQAC,yBAAA,SAAAC,GACA,OAAAC,KAAAC,IACAF,EAAAG,aACAH,EAAAF,eAQAM,0BAAA,WACA,OAAAtI,KAAAsF,WAAA3B,QAAA3D,KAAAsF,WAAA1E,SAAAG,KACAf,KAAA8H,oBACA9H,KAAAiI,yBAAAjI,KAAAsF,WAQAiD,kBAAA,WACA,IAAAxH,EAAAH,SAAAG,KACA0C,EAAA7C,SAAA6C,gBAEA,OAAA0E,KAAAC,IACArH,EAAAyH,aAAA/E,EAAA+E,aACAzH,EAAAsH,aAAA5E,EAAA4E,aACAtH,EAAAiH,aAAAvE,EAAAuE,eASAS,iBAAA,SAAAP,GACA,OAAAC,KAAAC,IACAF,EAAAM,aACAN,EAAAG,aACAH,EAAAF,eAQAU,kBAAA,WACA,OAAA1I,KAAAsF,WAAA3B,QAAA3D,KAAAsF,WAAA1E,SAAAG,KACAf,KAAAuI,oBACAvI,KAAAyI,iBAAAzI,KAAAsF,WAQAqD,cAAA,SAAAC,GACA,IAAAC,EAAAD,EAAA,EACAE,EAAAF,EAAA5I,KAAAsI,4BAAAtI,KAAA0I,oBAEA,OAAAG,GAAAC,GAQAC,kBAAA,SAAAH,EAAAI,GACA,OAAAb,KAAAc,IAAAL,EAAA5I,KAAA8E,mBAAA9E,KAAA+E,UAAAiE,IASAE,YAAA,SAAAN,EAAAG,GACA,IAAAI,EAAAP,EAAA5I,KAAA8E,iBACAsE,EAAAR,GAAA5I,KAAAqF,OAEA,OAAA8D,GAAAC,GAAAL,GASAM,UAAA,SAAAT,EAAAG,GACA,IAAAO,EAAAV,EAAA5I,KAAA8E,iBACAsE,EAAAR,GAAA5I,KAAAqF,OAEA,OAAAiE,GAAAP,GAAAK,GAMApD,OAAA,WACA,IAAA4C,EAAA5I,KAAA+G,aACAwC,EAAAX,EAAA5I,KAAA8E,iBAAA,YACAiE,EAAA/I,KAAA+I,kBAAAH,EAAAW,GAEAvJ,KAAA2I,cAAAC,KAIAA,GAAA5I,KAAAqF,OACArF,KAAAuH,MAEAvH,KAAAwH,SAGAoB,EAAA5I,KAAA8H,qBAAA9H,KAAA0I,oBACA1I,KAAAyH,SAGAzH,KAAA0H,YAGA1H,KAAAkJ,YAAAN,EAAAG,GACA/I,KAAAiH,QAEAjH,KAAAqJ,UAAAT,EAAAG,IACA/I,KAAAsH,MAGAtH,KAAA8E,iBAAA8D,KAOAvE,EAAAE,SACAQ,WACAG,GAAA,EACAD,KAAA,GAEAI,OAAA,EACAC,SAAA3B,OACAyB,SACA+B,OAAA,mBACAC,SAAA,qBACAG,IAAA,gBACAC,OAAA,oBACAC,OAAA,mBACAC,UAAA,uBACAlB,QAAA,aAGAnC,EAAAgC,oBAAA,IAAA/C,KAAAI,KAAAJ,EAAAC,MAAAD,EAAAE,UAEAa,IAtcsBpB,EAAAuG,MAAAC,EAAAvG,GAAAD,KAAAyG,EAAAD,QAAAtG,GALtB;;;;;;msBCFqBwG,4MACZ,WAEPC,EAAKC,SAAW,IAAIC,EAAAC,EAASH,EAAKzH,KAclCyH,EAAKC,SAASzD,8BAjB0B4D,EAAA","file":"behaviour-StickyHeader.bundle.1544006707924.js","sourcesContent":["import mitt from 'mitt'\n\nconst eventBus = mitt()\n\nexport default eventBus\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import * as R from 'ramda'\n\n// Does this need any comments?\n\nconst sanitizeName = name => name.replace(/-(.)/g, ($0, $1) => $1.toUpperCase())\n\nconst removeValueLess = R.filter(({ value }) => value)\n\nconst getDataAttributes = R.filter(\n\tattr =>\n\t\t/^data-/.test(attr.name) &&\n\t\tattr.name !== 'data-element' &&\n\t\tattr.name !== 'data-behaviour'\n)\n\nconst cleanName = R.map(({ name, value }) => ({\n\tname: sanitizeName(name.substr(5)),\n\tvalue\n}))\n\nconst flattenToObject = R.reduce((acc, { name: key, value }) => {\n\tacc[key] = value\n\treturn acc\n}, {})\n\nexport const composeProps = R.compose(\n\tflattenToObject,\n\tcleanName,\n\tremoveValueLess,\n\tgetDataAttributes\n)\n\nconst gatherProps = node => composeProps([...node.attributes])\n\nconst createRefs = R.reduce((acc, node) => {\n\tacc[`${sanitizeName(node.getAttribute('data-element'))}`] = {\n\t\tnode,\n\t\t...gatherProps(node)\n\t}\n\n\treturn acc\n}, {})\n\nexport default root => createRefs([...root.querySelectorAll('*[data-element]')])\n\n/**\n * Create a router\n * @memberof Behaviour\n * @mixin RefsMixin\n * @example\n * import ScreenMixin, { mix } from '@/core/ScreenMixin'\n * import {\n * \tRefsMixin,\n * } from '@/core/modules/'\n *\n * export default class ExampleWithAllTheThings extends mix(Behaviour).with(\n * \tRefsMixin\n * ) {\n * \tmount = () => {\n * \t\tthis.$$refs.someElement.node.classList.add('hello')\n * \t}\n * }\n * @return {RefsMixin}\n */\nexport const RefsMixin = superclass =>\n\tclass extends superclass {\n\t\tinit() {\n\t\t\tthis.$$refs = createRefs([\n\t\t\t\t...this.$el.querySelectorAll('*[data-element]')\n\t\t\t])\n\t\t\tif (super.init) super.init()\n\t\t}\n\t}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","/*\n\tNames for the events emiitted through the route class\n\n\tThe names should be pretty self explanatory \n*/\n\nexport const ROUTER_POP_EVENT = 'ROUTER_POP_EVENT'\n\nexport const ROUTER_PAGE_NOT_FOUND = 'ROUTER_PAGE_NOT_FOUND'\n\nexport const ROUTE_LINK_CLICKED = 'ROUTE_LINK_CLICKED'\n\nexport const ROUTE_TRANSITION_LOAD = 'ROUTE_TRANSITION_LOAD'\n\nexport const ROUTE_TRANSITION_EXIT = 'ROUTE_TRANSITION_EXIT'\n\nexport const ROUTE_TRANSITION_RESOLVED = 'ROUTE_TRANSITION_RESOLVED'\n\nexport const ROUTE_TRANSITION_BEFORE_DOM_UPDATE =\n\t'ROUTE_TRANSITION_BEFORE_DOM_UPDATE'\n\nexport const ROUTE_TRANSITION_AFTER_DOM_UPDATE =\n\t'ROUTE_TRANSITION_AFTER_DOM_UPDATE'\n\nexport const ROUTE_TRANSITION_ENTER = 'ROUTE_TRANSITION_ENTER'\n\nexport const ROUTE_TRANSITION_COMPLETE = 'ROUTE_TRANSITION_COMPLETE'\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import { composeProps } from '@/core/modules/refs'\nimport eventBus from '@/core/modules/eventBus'\nimport * as Actions from '@/core/router/actions'\n\n/**\n * @namespace dom\n */\n\nclass MixinBuilder {\n\tconstructor(superclass) {\n\t\tthis.superclass = superclass\n\t}\n\n\twith(...mixins) {\n\t\treturn mixins.reduce((c, mixin) => mixin(c), this.superclass)\n\t}\n}\n\nexport const mix = superclass => new MixinBuilder(superclass)\n\n/**\n *\n * @namespace Behavior\n * @description Behavior class to handle adding/removing functionality from the dom.\n * Use the mixins to add enhancements\n *\n * @class Behavior\n *\n * @param {HTMLElement} el - the html element to bind the behaviour too\n * @param {String} name - a name to give the behaviour\n *\n * @property {String} Behaviour.$name -  The name given to the behaviour\n * @property {HTMLElement} Behaviour.$el -  The element the behaviour is attached to\n * @property {HTMLElement} Behaviour.$body -  the body element\n * @property {HTMLElement} Behaviour.$html -  the html element\n * @property {Object} Behaviour.$data - any data attributes on the $el\n * @property {Function} Behaviour.$$$eventBus.on -  global event emitter, listen to events\n * @property {Function} Behaviour.$$$eventBus.off -  global event emitter, remove to events\n * @property {Function} Behaviour.$$$eventBus.emit -  global event emitter, emit event\n * @property {Object} Behavior.KEY_CODES\n * @property {Number} Behaviour.KEY_CODS.DELETE_KEY -  delete\n * @property {Number} Behaviour.KEY_CODS.SHIFT_KEY - shift\n * @property {Number} Behaviour.KEY_CODS.CTRL_KEY - control\n * @property {Number} Behaviour.KEY_CODS.ALT_KEY -  alt\n * @property {Number} Behaviour.KEY_CODS.RETURN_KEY - return\n * @property {Number} Behaviour.KEY_CODS.ESC_KEY - escape\n * @property {Number} Behaviour.KEY_CODS.SPACE_KEY - space\n * @property {Number} Behaviour.KEY_CODS.LEFT_KEY - left\n * @property {Number} Behaviour.KEY_CODS.UP_KEY - up\n * @property {Number} Behaviour.KEY_CODS.RIGHT_KEY - right\n * @property {Number} Behaviour.KEY_CODS.DOWN_KEY - down\n * @property {Number} Behaviour.KEY_CODS.CMD_KEY - command\n * @example\n * import Behaviour from '@/core/Behaviour'\n *\n * export default class ExampleWithAllTheThings Behaviour {\n * \tmount = () => {\n * \t\t// this.$el === the node with the data-behaviour\n * \t\tthis.$el.classList.add('mount')\n * \t\t// this.$body === <body></body>\n * \t\t// this.$html === <html></html>\n * \t\t// this.KEY_CODES === common key codes\n * \t\t// this.$data === any data attributes on this.$el\n * \t}\n *\n * \tunmount = () => {}\n * }\n *\n * @return {Behavior}\n */\nexport default (() => {\n\tconst $html = document.getElementsByTagName('html')[0]\n\tconst $body = document.body\n\tconst KEY_CODES = {\n\t\tDELETE_KEY: 8,\n\t\tSHIFT_KEY: 16,\n\t\tCTRL_KEY: 17,\n\t\tALT_KEY: 18,\n\t\tRETURN_KEY: 13,\n\t\tESC_KEY: 27,\n\t\tSPACE_KEY: 32,\n\t\tLEFT_KEY: 37,\n\t\tUP_KEY: 38,\n\t\tRIGHT_KEY: 39,\n\t\tDOWN_KEY: 40,\n\t\tA_KEY: 65,\n\t\tS_KEY: 83,\n\t\tCMD_KEY: 91\n\t}\n\n\treturn class Behaviour {\n\t\tconstructor(el = document, name = '') {\n\t\t\tthis.$name = name\n\t\t\tthis.$el = el\n\t\t\tthis.$body = $body\n\t\t\tthis.$html = $html\n\n\t\t\tthis.$$eventBus = eventBus\n\n\t\t\tthis.KEY_CODES = KEY_CODES\n\n\t\t\tthis.$data = this.$el.attributes\n\t\t\t\t? composeProps([...this.$el.attributes])\n\t\t\t\t: null // here lies a bug\n\t\t}\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method init\n\t\t * @description initialise the router events\n\t\t * @return {void}\n\t\t */\n\t\tinit() {\n\t\t\tif (this.routes) {\n\t\t\t\tif (this.routes.enter)\n\t\t\t\t\tthis.$$eventBus.on(Actions.ROUTE_TRANSITION_ENTER, this.routes.enter)\n\n\t\t\t\tif (this.routes.exit)\n\t\t\t\t\tthis.$$eventBus.on(Actions.ROUTE_TRANSITION_EXIT, this.routes.exit)\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method mount\n\t\t * @description called after instantiation\n\t\t * @return {void}\n\t\t */\n\t\tmount() {} // eslint-disable-line class-methods-use-this\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method unmount\n\t\t * @description called when destroying\n\t\t * @return {void}\n\t\t */\n\t\tunmount() {} // eslint-disable-line class-methods-use-this\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method destroy\n\t\t * @description kill the current behaviour\n\t\t * @return {void}\n\t\t */\n\t\tdestroy() {\n\t\t\tthis.unmount()\n\n\t\t\tif (this.routes) {\n\t\t\t\tif (this.routes.enter)\n\t\t\t\t\tthis.$$eventBus.off(Actions.ROUTE_TRANSITION_ENTER, this.routes.enter)\n\n\t\t\t\tif (this.routes.exit)\n\t\t\t\t\tthis.$$eventBus.off(Actions.ROUTE_TRANSITION_EXIT, this.routes.exit)\n\t\t\t}\n\t\t}\n\t}\n})()\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","/*!\n * headroom.js v0.9.4 - Give your page some headroom. Hide your header until you need it\n * Copyright (c) 2017 Nick Williams - http://wicky.nillia.ms/headroom.js\n * License: MIT\n */\n\n(function(root, factory) {\n  'use strict';\n\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  }\n  else if (typeof exports === 'object') {\n    // COMMONJS\n    module.exports = factory();\n  }\n  else {\n    // BROWSER\n    root.Headroom = factory();\n  }\n}(this, function() {\n  'use strict';\n\n  /* exported features */\n  \n  var features = {\n    bind : !!(function(){}.bind),\n    classList : 'classList' in document.documentElement,\n    rAF : !!(window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame)\n  };\n  window.requestAnimationFrame = window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame;\n  \n  /**\n   * Handles debouncing of events via requestAnimationFrame\n   * @see http://www.html5rocks.com/en/tutorials/speed/animations/\n   * @param {Function} callback The callback to handle whichever event\n   */\n  function Debouncer (callback) {\n    this.callback = callback;\n    this.ticking = false;\n  }\n  Debouncer.prototype = {\n    constructor : Debouncer,\n  \n    /**\n     * dispatches the event to the supplied callback\n     * @private\n     */\n    update : function() {\n      this.callback && this.callback();\n      this.ticking = false;\n    },\n  \n    /**\n     * ensures events don't get stacked\n     * @private\n     */\n    requestTick : function() {\n      if(!this.ticking) {\n        requestAnimationFrame(this.rafCallback || (this.rafCallback = this.update.bind(this)));\n        this.ticking = true;\n      }\n    },\n  \n    /**\n     * Attach this as the event listeners\n     */\n    handleEvent : function() {\n      this.requestTick();\n    }\n  };\n  /**\n   * Check if object is part of the DOM\n   * @constructor\n   * @param {Object} obj element to check\n   */\n  function isDOMElement(obj) {\n    return obj && typeof window !== 'undefined' && (obj === window || obj.nodeType);\n  }\n  \n  /**\n   * Helper function for extending objects\n   */\n  function extend (object /*, objectN ... */) {\n    if(arguments.length <= 0) {\n      throw new Error('Missing arguments in extend function');\n    }\n  \n    var result = object || {},\n        key,\n        i;\n  \n    for (i = 1; i < arguments.length; i++) {\n      var replacement = arguments[i] || {};\n  \n      for (key in replacement) {\n        // Recurse into object except if the object is a DOM element\n        if(typeof result[key] === 'object' && ! isDOMElement(result[key])) {\n          result[key] = extend(result[key], replacement[key]);\n        }\n        else {\n          result[key] = result[key] || replacement[key];\n        }\n      }\n    }\n  \n    return result;\n  }\n  \n  /**\n   * Helper function for normalizing tolerance option to object format\n   */\n  function normalizeTolerance (t) {\n    return t === Object(t) ? t : { down : t, up : t };\n  }\n  \n  /**\n   * UI enhancement for fixed headers.\n   * Hides header when scrolling down\n   * Shows header when scrolling up\n   * @constructor\n   * @param {DOMElement} elem the header element\n   * @param {Object} options options for the widget\n   */\n  function Headroom (elem, options) {\n    options = extend(options, Headroom.options);\n  \n    this.lastKnownScrollY = 0;\n    this.elem             = elem;\n    this.tolerance        = normalizeTolerance(options.tolerance);\n    this.classes          = options.classes;\n    this.offset           = options.offset;\n    this.scroller         = options.scroller;\n    this.initialised      = false;\n    this.onPin            = options.onPin;\n    this.onUnpin          = options.onUnpin;\n    this.onTop            = options.onTop;\n    this.onNotTop         = options.onNotTop;\n    this.onBottom         = options.onBottom;\n    this.onNotBottom      = options.onNotBottom;\n  }\n  Headroom.prototype = {\n    constructor : Headroom,\n  \n    /**\n     * Initialises the widget\n     */\n    init : function() {\n      if(!Headroom.cutsTheMustard) {\n        return;\n      }\n  \n      this.debouncer = new Debouncer(this.update.bind(this));\n      this.elem.classList.add(this.classes.initial);\n  \n      // defer event registration to handle browser\n      // potentially restoring previous scroll position\n      setTimeout(this.attachEvent.bind(this), 100);\n  \n      return this;\n    },\n  \n    /**\n     * Unattaches events and removes any classes that were added\n     */\n    destroy : function() {\n      var classes = this.classes;\n  \n      this.initialised = false;\n  \n      for (var key in classes) {\n        if(classes.hasOwnProperty(key)) {\n          this.elem.classList.remove(classes[key]);\n        }\n      }\n  \n      this.scroller.removeEventListener('scroll', this.debouncer, false);\n    },\n  \n    /**\n     * Attaches the scroll event\n     * @private\n     */\n    attachEvent : function() {\n      if(!this.initialised){\n        this.lastKnownScrollY = this.getScrollY();\n        this.initialised = true;\n        this.scroller.addEventListener('scroll', this.debouncer, false);\n  \n        this.debouncer.handleEvent();\n      }\n    },\n  \n    /**\n     * Unpins the header if it's currently pinned\n     */\n    unpin : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(classList.contains(classes.pinned) || !classList.contains(classes.unpinned)) {\n        classList.add(classes.unpinned);\n        classList.remove(classes.pinned);\n        this.onUnpin && this.onUnpin.call(this);\n      }\n    },\n  \n    /**\n     * Pins the header if it's currently unpinned\n     */\n    pin : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(classList.contains(classes.unpinned)) {\n        classList.remove(classes.unpinned);\n        classList.add(classes.pinned);\n        this.onPin && this.onPin.call(this);\n      }\n    },\n  \n    /**\n     * Handles the top states\n     */\n    top : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.top)) {\n        classList.add(classes.top);\n        classList.remove(classes.notTop);\n        this.onTop && this.onTop.call(this);\n      }\n    },\n  \n    /**\n     * Handles the not top state\n     */\n    notTop : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.notTop)) {\n        classList.add(classes.notTop);\n        classList.remove(classes.top);\n        this.onNotTop && this.onNotTop.call(this);\n      }\n    },\n  \n    bottom : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.bottom)) {\n        classList.add(classes.bottom);\n        classList.remove(classes.notBottom);\n        this.onBottom && this.onBottom.call(this);\n      }\n    },\n  \n    /**\n     * Handles the not top state\n     */\n    notBottom : function() {\n      var classList = this.elem.classList,\n        classes = this.classes;\n  \n      if(!classList.contains(classes.notBottom)) {\n        classList.add(classes.notBottom);\n        classList.remove(classes.bottom);\n        this.onNotBottom && this.onNotBottom.call(this);\n      }\n    },\n  \n    /**\n     * Gets the Y scroll position\n     * @see https://developer.mozilla.org/en-US/docs/Web/API/Window.scrollY\n     * @return {Number} pixels the page has scrolled along the Y-axis\n     */\n    getScrollY : function() {\n      return (this.scroller.pageYOffset !== undefined)\n        ? this.scroller.pageYOffset\n        : (this.scroller.scrollTop !== undefined)\n          ? this.scroller.scrollTop\n          : (document.documentElement || document.body.parentNode || document.body).scrollTop;\n    },\n  \n    /**\n     * Gets the height of the viewport\n     * @see http://andylangton.co.uk/blog/development/get-viewport-size-width-and-height-javascript\n     * @return {int} the height of the viewport in pixels\n     */\n    getViewportHeight : function () {\n      return window.innerHeight\n        || document.documentElement.clientHeight\n        || document.body.clientHeight;\n    },\n  \n    /**\n     * Gets the physical height of the DOM element\n     * @param  {Object}  elm the element to calculate the physical height of which\n     * @return {int}     the physical height of the element in pixels\n     */\n    getElementPhysicalHeight : function (elm) {\n      return Math.max(\n        elm.offsetHeight,\n        elm.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the physical height of the scroller element\n     * @return {int} the physical height of the scroller element in pixels\n     */\n    getScrollerPhysicalHeight : function () {\n      return (this.scroller === window || this.scroller === document.body)\n        ? this.getViewportHeight()\n        : this.getElementPhysicalHeight(this.scroller);\n    },\n  \n    /**\n     * Gets the height of the document\n     * @see http://james.padolsey.com/javascript/get-document-height-cross-browser/\n     * @return {int} the height of the document in pixels\n     */\n    getDocumentHeight : function () {\n      var body = document.body,\n        documentElement = document.documentElement;\n  \n      return Math.max(\n        body.scrollHeight, documentElement.scrollHeight,\n        body.offsetHeight, documentElement.offsetHeight,\n        body.clientHeight, documentElement.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the height of the DOM element\n     * @param  {Object}  elm the element to calculate the height of which\n     * @return {int}     the height of the element in pixels\n     */\n    getElementHeight : function (elm) {\n      return Math.max(\n        elm.scrollHeight,\n        elm.offsetHeight,\n        elm.clientHeight\n      );\n    },\n  \n    /**\n     * Gets the height of the scroller element\n     * @return {int} the height of the scroller element in pixels\n     */\n    getScrollerHeight : function () {\n      return (this.scroller === window || this.scroller === document.body)\n        ? this.getDocumentHeight()\n        : this.getElementHeight(this.scroller);\n    },\n  \n    /**\n     * determines if the scroll position is outside of document boundaries\n     * @param  {int}  currentScrollY the current y scroll position\n     * @return {bool} true if out of bounds, false otherwise\n     */\n    isOutOfBounds : function (currentScrollY) {\n      var pastTop  = currentScrollY < 0,\n        pastBottom = currentScrollY + this.getScrollerPhysicalHeight() > this.getScrollerHeight();\n  \n      return pastTop || pastBottom;\n    },\n  \n    /**\n     * determines if the tolerance has been exceeded\n     * @param  {int} currentScrollY the current scroll y position\n     * @return {bool} true if tolerance exceeded, false otherwise\n     */\n    toleranceExceeded : function (currentScrollY, direction) {\n      return Math.abs(currentScrollY-this.lastKnownScrollY) >= this.tolerance[direction];\n    },\n  \n    /**\n     * determine if it is appropriate to unpin\n     * @param  {int} currentScrollY the current y scroll position\n     * @param  {bool} toleranceExceeded has the tolerance been exceeded?\n     * @return {bool} true if should unpin, false otherwise\n     */\n    shouldUnpin : function (currentScrollY, toleranceExceeded) {\n      var scrollingDown = currentScrollY > this.lastKnownScrollY,\n        pastOffset = currentScrollY >= this.offset;\n  \n      return scrollingDown && pastOffset && toleranceExceeded;\n    },\n  \n    /**\n     * determine if it is appropriate to pin\n     * @param  {int} currentScrollY the current y scroll position\n     * @param  {bool} toleranceExceeded has the tolerance been exceeded?\n     * @return {bool} true if should pin, false otherwise\n     */\n    shouldPin : function (currentScrollY, toleranceExceeded) {\n      var scrollingUp  = currentScrollY < this.lastKnownScrollY,\n        pastOffset = currentScrollY <= this.offset;\n  \n      return (scrollingUp && toleranceExceeded) || pastOffset;\n    },\n  \n    /**\n     * Handles updating the state of the widget\n     */\n    update : function() {\n      var currentScrollY  = this.getScrollY(),\n        scrollDirection = currentScrollY > this.lastKnownScrollY ? 'down' : 'up',\n        toleranceExceeded = this.toleranceExceeded(currentScrollY, scrollDirection);\n  \n      if(this.isOutOfBounds(currentScrollY)) { // Ignore bouncy scrolling in OSX\n        return;\n      }\n  \n      if (currentScrollY <= this.offset ) {\n        this.top();\n      } else {\n        this.notTop();\n      }\n  \n      if(currentScrollY + this.getViewportHeight() >= this.getScrollerHeight()) {\n        this.bottom();\n      }\n      else {\n        this.notBottom();\n      }\n  \n      if(this.shouldUnpin(currentScrollY, toleranceExceeded)) {\n        this.unpin();\n      }\n      else if(this.shouldPin(currentScrollY, toleranceExceeded)) {\n        this.pin();\n      }\n  \n      this.lastKnownScrollY = currentScrollY;\n    }\n  };\n  /**\n   * Default options\n   * @type {Object}\n   */\n  Headroom.options = {\n    tolerance : {\n      up : 0,\n      down : 0\n    },\n    offset : 0,\n    scroller: window,\n    classes : {\n      pinned : 'headroom--pinned',\n      unpinned : 'headroom--unpinned',\n      top : 'headroom--top',\n      notTop : 'headroom--not-top',\n      bottom : 'headroom--bottom',\n      notBottom : 'headroom--not-bottom',\n      initial : 'headroom'\n    }\n  };\n  Headroom.cutsTheMustard = typeof features !== 'undefined' && features.rAF && features.bind && features.classList;\n\n  return Headroom;\n}));","import Behaviour from '@/core/Behaviour'\nimport Headroom from 'headroom.js'\n// import SponDraw from 'spon-draw'\n\nexport default class StickyHeader extends Behaviour {\n\tmount = () => {\n\t\t// log('mounted')\n\t\tthis.headroom = new Headroom(this.$el)\n\t\t// this.offCanvasMenu = new SponDraw({\n\t\t// \topenButton: '[data-open-menu]',\n\t\t// \toverlay: document.getElementById('site-menu'),\n\t\t// \tcontents: document.getElementById('menu-inner'),\n\t\t// \tcloseButton: false,\n\t\t// \tinit: true,\n\t\t// \tbuttonActiveClass: 'o-burger--active',\n\t\t// \toverlayVisibleClass: 'is-visible',\n\t\t// \toverlayAnimationClass: 'is-animating',\n\t\t// \ttransition: true,\n\t\t// \tanimationType: 'transition',\n\t\t// \tbefore: null\n\t\t// })\n\t\tthis.headroom.init()\n\t\t// this.offCanvasMenu.init()\n\t}\n}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n"],"sourceRoot":""}