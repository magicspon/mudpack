{"version":3,"sources":["webpack:///./core/modules/eventBus.js","webpack:///./core/modules/refs.js","webpack:///./core/router/actions.js","webpack:///./core/modules/createEvents.js","webpack:///./core/Behaviour.js","webpack:////Users/davidmaxwell-wood/Sites/_MUD/PQRST/SGFG/node_modules/core-js/modules/es6.object.assign.js","webpack:////Users/davidmaxwell-wood/Sites/_MUD/PQRST/SGFG/node_modules/domify/index.js","webpack:///./ui/Validation.js","webpack:////Users/davidmaxwell-wood/Sites/_MUD/PQRST/SGFG/node_modules/core-js/modules/_object-assign.js","webpack:////Users/davidmaxwell-wood/Sites/_MUD/PQRST/SGFG/node_modules/core-js/modules/_object-gops.js","webpack:///./behaviours/ContactForm.js"],"names":["mitt__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","eventBus","Object","__webpack_exports__","sanitizeName","name","replace","$0","$1","toUpperCase","removeValueLess","ramda_src_filter__WEBPACK_IMPORTED_MODULE_11___default","_ref","value","getDataAttributes","attr","test","cleanName","ramda_src_map__WEBPACK_IMPORTED_MODULE_10___default","_ref2","substr","flattenToObject","ramda_src_reduce__WEBPACK_IMPORTED_MODULE_9___default","acc","_ref3","key","composeProps","ramda_src_compose__WEBPACK_IMPORTED_MODULE_8___default","node","concat","getAttribute","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_6___default","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default","attributes","gatherProps","d","ROUTER_POP_EVENT","ROUTER_PAGE_NOT_FOUND","ROUTE_TRANSITION_LOAD","ROUTE_TRANSITION_EXIT","ROUTE_TRANSITION_RESOLVED","ROUTE_TRANSITION_BEFORE_DOM_UPDATE","ROUTE_TRANSITION_AFTER_DOM_UPDATE","ROUTE_TRANSITION_ENTER","ROUTE_TRANSITION_COMPLETE","createEvents","ramda_src_curry__WEBPACK_IMPORTED_MODULE_20___default","context","obj","$delegate","emit","_this","this","events","entries","map","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default","fn","eventAndNode","ramda_src_compose__WEBPACK_IMPORTED_MODULE_15___default","ramda_src_map__WEBPACK_IMPORTED_MODULE_14___default","ramda_src_trim__WEBPACK_IMPORTED_MODULE_13___default","a","ramda_src_split__WEBPACK_IMPORTED_MODULE_12___default","capture","ramda_src_length__WEBPACK_IMPORTED_MODULE_11___default","ramda_src_match__WEBPACK_IMPORTED_MODULE_10___default","ramda_src_head__WEBPACK_IMPORTED_MODULE_9___default","funk","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_8___default","handleFunctions","evt","transform","fns","ramda_src_forEach__WEBPACK_IMPORTED_MODULE_7___default","event","_$delegate","apply","item","ramda_src_find__WEBPACK_IMPORTED_MODULE_6___default","_ref4","b","join","attachAll","root","arguments","length","undefined","dom_delegate__WEBPACK_IMPORTED_MODULE_21___default","_$delegate2","on","err","console","error","attach","remove","destroy","_$delegate3","off","$node","document","createEvent","initEvent","dispatchEvent","EventsMixin","superclass","_superclass","_class","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default","_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default","$$events","call","$el","_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4___default","prototype","MixinBuilder","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","_len","mixins","Array","_key","reduce","c","mixin","mix","$html","getElementsByTagName","$body","body","KEY_CODES","DELETE_KEY","SHIFT_KEY","CTRL_KEY","ALT_KEY","RETURN_KEY","ESC_KEY","SPACE_KEY","LEFT_KEY","UP_KEY","RIGHT_KEY","DOWN_KEY","A_KEY","S_KEY","CMD_KEY","Behaviour","el","$name","$$eventBus","_core_modules_eventBus__WEBPACK_IMPORTED_MODULE_4__","$data","_core_modules_refs__WEBPACK_IMPORTED_MODULE_3__","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default","routes","enter","_core_router_actions__WEBPACK_IMPORTED_MODULE_5__","exit","unmount","$export","S","F","assign","module","exports","html","doc","TypeError","m","exec","createTextNode","tag","createElement","innerHTML","removeChild","lastChild","wrap","_default","depth","prefix","suffix","firstChild","fragment","createDocumentFragment","appendChild","bugTestDiv","innerHTMLBug","legend","tr","col","td","th","option","optgroup","thead","tbody","colgroup","caption","tfoot","polyline","ellipse","polygon","circle","text","line","path","rect","g","Validate","options","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_8___default","_babel_runtime_helpers_defineProperty__WEBPACK_IMPORTED_MODULE_9___default","ajax","change [required]","submit","form","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_7___default","_core_modules_createEvents__WEBPACK_IMPORTED_MODULE_11__","rules","$fields","ramda_src_reduce__WEBPACK_IMPORTED_MODULE_6___default","field","message","domify__WEBPACK_IMPORTED_MODULE_12___default","parent","closest","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_5___default","querySelectorAll","setAttribute","forEach","_ref2$","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_1___default","e","elm","preventDefault","handleErrors","errors","validate_js__WEBPACK_IMPORTED_MODULE_10___default","fullMessages","input","showError","removeError","classList","add","textContent","_ref5","_this$options","errorArray","_ref7","_ref8","fields","data","FormData","defaults","mitt__WEBPACK_IMPORTED_MODULE_13__","getKeys","gOPS","pIE","toObject","IObject","$assign","A","B","Symbol","K","split","k","keys","target","source","T","aLen","index","getSymbols","f","isEnum","j","getOwnPropertySymbols","confirmMessage","gsap_all__WEBPACK_IMPORTED_MODULE_8__","ContactForm","validator","_ui_Validation__WEBPACK_IMPORTED_MODULE_7__","fromEmail","presence","email","message[name]","mount","fetch","method","then","response","ok","$messageContainer","getElementById","domify__WEBPACK_IMPORTED_MODULE_10___default","gsap_all__WEBPACK_IMPORTED_MODULE_9__","to","opacity","delay","catch","log","_core_Behaviour__WEBPACK_IMPORTED_MODULE_6__"],"mappings":"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","file":"behaviour-ContactForm.bundle.1544006707924.js","sourcesContent":["import mitt from 'mitt'\n\nconst eventBus = mitt()\n\nexport default eventBus\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import * as R from 'ramda'\n\n// Does this need any comments?\n\nconst sanitizeName = name => name.replace(/-(.)/g, ($0, $1) => $1.toUpperCase())\n\nconst removeValueLess = R.filter(({ value }) => value)\n\nconst getDataAttributes = R.filter(\n\tattr =>\n\t\t/^data-/.test(attr.name) &&\n\t\tattr.name !== 'data-element' &&\n\t\tattr.name !== 'data-behaviour'\n)\n\nconst cleanName = R.map(({ name, value }) => ({\n\tname: sanitizeName(name.substr(5)),\n\tvalue\n}))\n\nconst flattenToObject = R.reduce((acc, { name: key, value }) => {\n\tacc[key] = value\n\treturn acc\n}, {})\n\nexport const composeProps = R.compose(\n\tflattenToObject,\n\tcleanName,\n\tremoveValueLess,\n\tgetDataAttributes\n)\n\nconst gatherProps = node => composeProps([...node.attributes])\n\nconst createRefs = R.reduce((acc, node) => {\n\tacc[`${sanitizeName(node.getAttribute('data-element'))}`] = {\n\t\tnode,\n\t\t...gatherProps(node)\n\t}\n\n\treturn acc\n}, {})\n\nexport default root => createRefs([...root.querySelectorAll('*[data-element]')])\n\n/**\n * Create a router\n * @memberof Behaviour\n * @mixin RefsMixin\n * @example\n * import ScreenMixin, { mix } from '@/core/ScreenMixin'\n * import {\n * \tRefsMixin,\n * } from '@/core/modules/'\n *\n * export default class ExampleWithAllTheThings extends mix(Behaviour).with(\n * \tRefsMixin\n * ) {\n * \tmount = () => {\n * \t\tthis.$$refs.someElement.node.classList.add('hello')\n * \t}\n * }\n * @return {RefsMixin}\n */\nexport const RefsMixin = superclass =>\n\tclass extends superclass {\n\t\tinit() {\n\t\t\tthis.$$refs = createRefs([\n\t\t\t\t...this.$el.querySelectorAll('*[data-element]')\n\t\t\t])\n\t\t\tif (super.init) super.init()\n\t\t}\n\t}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","/*\n\tNames for the events emiitted through the route class\n\n\tThe names should be pretty self explanatory \n*/\n\nexport const ROUTER_POP_EVENT = 'ROUTER_POP_EVENT'\n\nexport const ROUTER_PAGE_NOT_FOUND = 'ROUTER_PAGE_NOT_FOUND'\n\nexport const ROUTE_LINK_CLICKED = 'ROUTE_LINK_CLICKED'\n\nexport const ROUTE_TRANSITION_LOAD = 'ROUTE_TRANSITION_LOAD'\n\nexport const ROUTE_TRANSITION_EXIT = 'ROUTE_TRANSITION_EXIT'\n\nexport const ROUTE_TRANSITION_RESOLVED = 'ROUTE_TRANSITION_RESOLVED'\n\nexport const ROUTE_TRANSITION_BEFORE_DOM_UPDATE =\n\t'ROUTE_TRANSITION_BEFORE_DOM_UPDATE'\n\nexport const ROUTE_TRANSITION_AFTER_DOM_UPDATE =\n\t'ROUTE_TRANSITION_AFTER_DOM_UPDATE'\n\nexport const ROUTE_TRANSITION_ENTER = 'ROUTE_TRANSITION_ENTER'\n\nexport const ROUTE_TRANSITION_COMPLETE = 'ROUTE_TRANSITION_COMPLETE'\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import Delegate from 'dom-delegate'\nimport * as R from 'ramda'\n\n/**\n * @namespace createEvents\n */\n\n// do not use an array function... we need to be able to bind\nexport const createEvents = R.curry(function(context, obj) {\n\tconst events = Object.entries(obj).map(([key, fn]) => {\n\t\tconst eventAndNode = R.compose(R.map(R.trim), R.split(' '))(key)\n\t\tconst capture = !!R.compose(R.length, R.match(/(blur|mouse)/g), R.head)(\n\t\t\teventAndNode\n\t\t)\n\t\tconst funk = typeof fn === 'string' ? this[fn] : fn\n\t\treturn [...eventAndNode, funk, capture]\n\t})\n\n\tlet $delegate\n\tlet emit\n\n\tconst handleFunctions = R.curry((evt, transform, fns) => {\n\t\tR.compose(\n\t\t\tR.forEach(event => {\n\t\t\t\t$delegate[transform](...event)\n\t\t\t}),\n\t\t\tR.map(item =>\n\t\t\t\tR.find(([a, b]) => {\n\t\t\t\t\t// alls add/remove of events without a selector - things like keydown/keyup\n\t\t\t\t\tif (typeof b === 'function') {\n\t\t\t\t\t\treturn a === item\n\t\t\t\t\t}\n\t\t\t\t\treturn [a, b].join(' ') === item\n\t\t\t\t})(evt)\n\t\t\t)\n\t\t)(fns)\n\t})(events)\n\n\treturn {\n\t\t/**\n\t\t * @memberof createEvents\n\t\t * @function attachAll\n\t\t * @param {HTMLElement} root - the element to delegate to\n\t\t */\n\t\tattachAll(root = context) {\n\t\t\t$delegate = $delegate || new Delegate(root)\n\t\t\ttry {\n\t\t\t\tR.forEach(event => $delegate.on(...event))(events)\n\t\t\t} catch (err) {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Handler must be a type of Function, careful with arrow functions, they will need to be above the events object:',\n\t\t\t\t\terr\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @memberof createEvents\n\t\t * @function attach\n\t\t * @param {Array} fns - an array of cuntions\n\t\t * @param {HTMLElement} root - the element to delegate to\n\t\t * @return {void}\n\t\t */\n\t\tattach(fns, root = context) {\n\t\t\t$delegate = $delegate || new Delegate(root)\n\t\t\thandleFunctions('on', fns)\n\t\t},\n\n\t\t/**\n\t\t * @memberof createEvents\n\t\t * @function remove\n\t\t * @param {Array} fns - an array of cuntions\n\t\t * @return {void}\n\t\t */\n\t\tremove(fns) {\n\t\t\tif (!$delegate) return\n\t\t\thandleFunctions('off', fns)\n\t\t},\n\n\t\t/**\n\t\t * @memberof createEvents\n\t\t * @function destroy\n\t\t * @return {void}\n\t\t */\n\t\tdestroy() {\n\t\t\tif (!$delegate) return\n\t\t\tR.forEach(event => $delegate.off(...event))(events)\n\t\t},\n\n\t\t/**\n\t\t * @memberof createEvents\n\t\t * @function destroy\n\t\t * @param {HTMLElement} root - the element to trigger an event on\n\t\t * @param {String} event - the name of the event to trigger\n\t\t * @return {void}\n\t\t */\n\t\temit($node, event) {\n\t\t\temit = emit || document.createEvent('HTMLEvents')\n\t\t\temit.initEvent(event, true, false)\n\t\t\t$node.dispatchEvent(emit)\n\t\t}\n\t}\n})\n\n/**\n * Create a router\n * @mixin EventsMixin\n * @description class used to manage adding/removing delegated dom events\n *\n * @example\n * import Behaviour, { mix } from '@/core/Behaviour'\n * import {\n * \tEventsMixin,\n * } from '@/core/modules/'\n *\n * export default class ExampleWithAllTheThings extends mix(Behaviour).with(\n * \tEventsMixin\n * ) {\n * \tevents = {\n * \t\t'click [data-link]': 'onClick'\n * \t}\n *\n * \tmount = () => {\n * \t\t// attach all the events\n * \t\tthis.$$events.attachAll()\n * \t\t// attach events by key\n * \t\tthis.$$events.attach(['click [data-link]'])\n * \t\t// remove events by key\n * \t\tthis.$$events.remove(['click [data-link]'])\n * \t\t// destroy all the events\n * \t\tthis.$$events.destroy()\n * \t}\n *\n * \tonClick = (e, elm) => {\n * \t\te.preventDefault()\n * \t\telm.classList.toggle('huzzah')\n * \t}\n * }\n * @return {EventsMixin}\n */\nexport const EventsMixin = superclass =>\n\tclass extends superclass {\n\t\tinit() {\n\t\t\tthis.$$events = createEvents.call(this, this.$el, this.events)\n\n\t\t\tif (super.init) super.init()\n\n\t\t\treturn this\n\t\t}\n\n\t\tdestroy() {\n\t\t\tthis.$$events.destroy()\n\t\t\tif (super.destroy) super.destroy()\n\t\t}\n\t}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import { composeProps } from '@/core/modules/refs'\nimport eventBus from '@/core/modules/eventBus'\nimport * as Actions from '@/core/router/actions'\n\n/**\n * @namespace dom\n */\n\nclass MixinBuilder {\n\tconstructor(superclass) {\n\t\tthis.superclass = superclass\n\t}\n\n\twith(...mixins) {\n\t\treturn mixins.reduce((c, mixin) => mixin(c), this.superclass)\n\t}\n}\n\nexport const mix = superclass => new MixinBuilder(superclass)\n\n/**\n *\n * @namespace Behavior\n * @description Behavior class to handle adding/removing functionality from the dom.\n * Use the mixins to add enhancements\n *\n * @class Behavior\n *\n * @param {HTMLElement} el - the html element to bind the behaviour too\n * @param {String} name - a name to give the behaviour\n *\n * @property {String} Behaviour.$name -  The name given to the behaviour\n * @property {HTMLElement} Behaviour.$el -  The element the behaviour is attached to\n * @property {HTMLElement} Behaviour.$body -  the body element\n * @property {HTMLElement} Behaviour.$html -  the html element\n * @property {Object} Behaviour.$data - any data attributes on the $el\n * @property {Function} Behaviour.$$$eventBus.on -  global event emitter, listen to events\n * @property {Function} Behaviour.$$$eventBus.off -  global event emitter, remove to events\n * @property {Function} Behaviour.$$$eventBus.emit -  global event emitter, emit event\n * @property {Object} Behavior.KEY_CODES\n * @property {Number} Behaviour.KEY_CODS.DELETE_KEY -  delete\n * @property {Number} Behaviour.KEY_CODS.SHIFT_KEY - shift\n * @property {Number} Behaviour.KEY_CODS.CTRL_KEY - control\n * @property {Number} Behaviour.KEY_CODS.ALT_KEY -  alt\n * @property {Number} Behaviour.KEY_CODS.RETURN_KEY - return\n * @property {Number} Behaviour.KEY_CODS.ESC_KEY - escape\n * @property {Number} Behaviour.KEY_CODS.SPACE_KEY - space\n * @property {Number} Behaviour.KEY_CODS.LEFT_KEY - left\n * @property {Number} Behaviour.KEY_CODS.UP_KEY - up\n * @property {Number} Behaviour.KEY_CODS.RIGHT_KEY - right\n * @property {Number} Behaviour.KEY_CODS.DOWN_KEY - down\n * @property {Number} Behaviour.KEY_CODS.CMD_KEY - command\n * @example\n * import Behaviour from '@/core/Behaviour'\n *\n * export default class ExampleWithAllTheThings Behaviour {\n * \tmount = () => {\n * \t\t// this.$el === the node with the data-behaviour\n * \t\tthis.$el.classList.add('mount')\n * \t\t// this.$body === <body></body>\n * \t\t// this.$html === <html></html>\n * \t\t// this.KEY_CODES === common key codes\n * \t\t// this.$data === any data attributes on this.$el\n * \t}\n *\n * \tunmount = () => {}\n * }\n *\n * @return {Behavior}\n */\nexport default (() => {\n\tconst $html = document.getElementsByTagName('html')[0]\n\tconst $body = document.body\n\tconst KEY_CODES = {\n\t\tDELETE_KEY: 8,\n\t\tSHIFT_KEY: 16,\n\t\tCTRL_KEY: 17,\n\t\tALT_KEY: 18,\n\t\tRETURN_KEY: 13,\n\t\tESC_KEY: 27,\n\t\tSPACE_KEY: 32,\n\t\tLEFT_KEY: 37,\n\t\tUP_KEY: 38,\n\t\tRIGHT_KEY: 39,\n\t\tDOWN_KEY: 40,\n\t\tA_KEY: 65,\n\t\tS_KEY: 83,\n\t\tCMD_KEY: 91\n\t}\n\n\treturn class Behaviour {\n\t\tconstructor(el = document, name = '') {\n\t\t\tthis.$name = name\n\t\t\tthis.$el = el\n\t\t\tthis.$body = $body\n\t\t\tthis.$html = $html\n\n\t\t\tthis.$$eventBus = eventBus\n\n\t\t\tthis.KEY_CODES = KEY_CODES\n\n\t\t\tthis.$data = this.$el.attributes\n\t\t\t\t? composeProps([...this.$el.attributes])\n\t\t\t\t: null // here lies a bug\n\t\t}\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method init\n\t\t * @description initialise the router events\n\t\t * @return {void}\n\t\t */\n\t\tinit() {\n\t\t\tif (this.routes) {\n\t\t\t\tif (this.routes.enter)\n\t\t\t\t\tthis.$$eventBus.on(Actions.ROUTE_TRANSITION_ENTER, this.routes.enter)\n\n\t\t\t\tif (this.routes.exit)\n\t\t\t\t\tthis.$$eventBus.on(Actions.ROUTE_TRANSITION_EXIT, this.routes.exit)\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method mount\n\t\t * @description called after instantiation\n\t\t * @return {void}\n\t\t */\n\t\tmount() {} // eslint-disable-line class-methods-use-this\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method unmount\n\t\t * @description called when destroying\n\t\t * @return {void}\n\t\t */\n\t\tunmount() {} // eslint-disable-line class-methods-use-this\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method destroy\n\t\t * @description kill the current behaviour\n\t\t * @return {void}\n\t\t */\n\t\tdestroy() {\n\t\t\tthis.unmount()\n\n\t\t\tif (this.routes) {\n\t\t\t\tif (this.routes.enter)\n\t\t\t\t\tthis.$$eventBus.off(Actions.ROUTE_TRANSITION_ENTER, this.routes.enter)\n\n\t\t\t\tif (this.routes.exit)\n\t\t\t\t\tthis.$$eventBus.off(Actions.ROUTE_TRANSITION_EXIT, this.routes.exit)\n\t\t\t}\n\t\t}\n\t}\n})()\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","// 19.1.3.1 Object.assign(target, source)\nvar $export = require('./_export');\n\n$export($export.S + $export.F, 'Object', { assign: require('./_object-assign') });\n","\n/**\n * Expose `parse`.\n */\n\nmodule.exports = parse;\n\n/**\n * Tests for browser support.\n */\n\nvar innerHTMLBug = false;\nvar bugTestDiv;\nif (typeof document !== 'undefined') {\n  bugTestDiv = document.createElement('div');\n  // Setup\n  bugTestDiv.innerHTML = '  <link/><table></table><a href=\"/a\">a</a><input type=\"checkbox\"/>';\n  // Make sure that link elements get serialized correctly by innerHTML\n  // This requires a wrapper element in IE\n  innerHTMLBug = !bugTestDiv.getElementsByTagName('link').length;\n  bugTestDiv = undefined;\n}\n\n/**\n * Wrap map from jquery.\n */\n\nvar map = {\n  legend: [1, '<fieldset>', '</fieldset>'],\n  tr: [2, '<table><tbody>', '</tbody></table>'],\n  col: [2, '<table><tbody></tbody><colgroup>', '</colgroup></table>'],\n  // for script/link/style tags to work in IE6-8, you have to wrap\n  // in a div with a non-whitespace character in front, ha!\n  _default: innerHTMLBug ? [1, 'X<div>', '</div>'] : [0, '', '']\n};\n\nmap.td =\nmap.th = [3, '<table><tbody><tr>', '</tr></tbody></table>'];\n\nmap.option =\nmap.optgroup = [1, '<select multiple=\"multiple\">', '</select>'];\n\nmap.thead =\nmap.tbody =\nmap.colgroup =\nmap.caption =\nmap.tfoot = [1, '<table>', '</table>'];\n\nmap.polyline =\nmap.ellipse =\nmap.polygon =\nmap.circle =\nmap.text =\nmap.line =\nmap.path =\nmap.rect =\nmap.g = [1, '<svg xmlns=\"http://www.w3.org/2000/svg\" version=\"1.1\">','</svg>'];\n\n/**\n * Parse `html` and return a DOM Node instance, which could be a TextNode,\n * HTML DOM Node of some kind (<div> for example), or a DocumentFragment\n * instance, depending on the contents of the `html` string.\n *\n * @param {String} html - HTML string to \"domify\"\n * @param {Document} doc - The `document` instance to create the Node for\n * @return {DOMNode} the TextNode, DOM Node, or DocumentFragment instance\n * @api private\n */\n\nfunction parse(html, doc) {\n  if ('string' != typeof html) throw new TypeError('String expected');\n\n  // default to the global `document` object\n  if (!doc) doc = document;\n\n  // tag name\n  var m = /<([\\w:]+)/.exec(html);\n  if (!m) return doc.createTextNode(html);\n\n  html = html.replace(/^\\s+|\\s+$/g, ''); // Remove leading/trailing whitespace\n\n  var tag = m[1];\n\n  // body support\n  if (tag == 'body') {\n    var el = doc.createElement('html');\n    el.innerHTML = html;\n    return el.removeChild(el.lastChild);\n  }\n\n  // wrap map\n  var wrap = map[tag] || map._default;\n  var depth = wrap[0];\n  var prefix = wrap[1];\n  var suffix = wrap[2];\n  var el = doc.createElement('div');\n  el.innerHTML = prefix + html + suffix;\n  while (depth--) el = el.lastChild;\n\n  // one element\n  if (el.firstChild == el.lastChild) {\n    return el.removeChild(el.firstChild);\n  }\n\n  // several elements\n  var fragment = doc.createDocumentFragment();\n  while (el.firstChild) {\n    fragment.appendChild(el.removeChild(el.firstChild));\n  }\n\n  return fragment;\n}\n","import validate from 'validate.js'\nimport { createEvents } from '@/core/modules/createEvents'\nimport * as R from 'ramda'\nimport domify from 'domify'\nimport mitt from 'mitt'\n\n/**\n * @namespace Validate\n * @class Validate\n * @description Handles form validation, and nothing else\n *\n * @example\n *\n * js:\n * const $form = document.querySelector('[data-form-delivery]')\n * const validator = new Validate($form, {\n * \trules: {\n * \t\temail: {\n * \t\t\tpresence: true,\n * \t\t\temail: true\n * \t\t},\n *\n * \t\tfirstName: {\n * \t\t\tpresence: true\n * \t\t},\n *\n * \t\tsurname: {\n * \t\t\tpresence: true\n * \t\t}\n * \t},\n * \tajax: true\n * })\n *\n * validator.mount()\n *\n * validator.on('submit:success', ({ data }) => {\n * \tfetch(data, {\n * \t\tmethod: 'POST'\n * \t})\n * \t.then(response => response.json)\n * \t.then(data => {\n * \t\t// handle the response\n * \t})\n * })\n *\n * html:\n * <form>\n * \t<div class=\"flex-1\" data-field-row=\"\">\n * \t\t<label for=\"firstName\">First Name*</label>\n * \t\t<input type=\"text\" name=\"firstName\" id=\"firstName\" required>\n * \t</div>\n * \t<button type=\"submit\">Submit</button>\n * </form>\n *\n * @param {HTMLElement} el - the form to validate\n * @param {Object} options - any form options\n * @property {Boolean} options.ajax - should prevent default be called when submitting the form\n * @property {Boolean} options.rules - form validation rules\n *\n */\n\nexport default class Validate {\n\tdefaults = {\n\t\tajax: true\n\t}\n\n\tconstructor(el, options) {\n\t\tthis.$el = el\n\t\tthis.options = { ...this.defaults, ...options }\n\t\tObject.assign(this, mitt())\n\t}\n\n\tevents = {\n\t\t'change [required]': 'onChange',\n\t\tsubmit: 'onSubmit'\n\t}\n\n\t/** *\n\t * @memberof Validate\n\t * @method setForm\n\t * @desc set the form\n\t * @param {HTMLElement} form - the form element to validate\n\t *\n\t * @return {Validate}\n\t */\n\tsetForm = form => {\n\t\tthis.$el = form\n\n\t\treturn this\n\t}\n\n\t/** *\n\t * @memberof Validate\n\t * @method setOptions\n\t * @desc update the options\n\t * @param {Object} options - validation rules and options\n\t *\n\t * @return {Validate}\n\t */\n\tsetOptions = options => {\n\t\tthis.options = { ...this.options, options }\n\n\t\treturn this\n\t}\n\n\t/** *\n\t * @memberof Validate\n\t * @method mount\n\t * @desc bootstrap the form, add events\n\t *\n\t * @return {Validate}\n\t */\n\tmount = () => {\n\t\tthis.$$events = createEvents.call(this, this.$el, this.events)\n\t\tthis.$$events.attachAll()\n\n\t\tconst { rules } = this.options\n\n\t\tthis.$fields = R.reduce((acc, field) => {\n\t\t\tconst { name } = field\n\t\t\tconst message = domify('<span class=\"form__error\"></span>')\n\t\t\tconst parent = field.closest('[data-field-row]')\n\n\t\t\tparent.appendChild(message)\n\n\t\t\tacc[name] = {\n\t\t\t\tfield,\n\t\t\t\tparent,\n\t\t\t\tmessage\n\t\t\t}\n\n\t\t\treturn acc\n\t\t}, {})([...this.$el.querySelectorAll('[required]')])\n\n\t\tif (rules) {\n\t\t\tthis.$el.setAttribute('novalidate', true)\n\t\t}\n\n\t\treturn this\n\t}\n\n\t/** *\n\t * @memberof Validate\n\t * @method unmount\n\t * @desc remove the events and error nodes\n\t *\n\t * @return {void}\n\t */\n\tunmount = () => {\n\t\tthis.$$events.destroy()\n\n\t\tObject.entries(this.$fields).forEach(([, { message, parent }]) => {\n\t\t\tparent.removeChild(message)\n\t\t})\n\t}\n\n\t/** *\n\t * @memberof Validate\n\t * @method onChange\n\t * @description Listen to change events on required fields\n\t * @param {Object} e - event object\n\t * @param {HTMLElement} elm - element that has changed\n\t *\n\t * @return {void}\n\t */\n\tonChange = (e, elm) => {\n\t\te.preventDefault()\n\t\tthis.handleErrors(elm)\n\t}\n\n\t/** *\n\t * @memberof Validate\n\t * @method handleErrors\n\t * @description add/remove errors\n\t * @param {HTMLElement} elm - element that has changed\n\t *\n\t * @return {void}\n\t */\n\thandleErrors = elm => {\n\t\tconst { rules } = this.options\n\t\tconst { name } = elm\n\t\tconst errors = validate(this.$el, rules, {\n\t\t\tfullMessages: false\n\t\t})\n\n\t\tconst input = this.$fields[name]\n\n\t\tif (errors && errors[name]) {\n\t\t\tthis.showError(input, errors[name])\n\t\t\tthis.emit('input:error', {\n\t\t\t\tinput,\n\t\t\t\terror: errors[name]\n\t\t\t})\n\t\t} else {\n\t\t\tthis.removeError(input)\n\t\t\tthis.emit('input:valid', {\n\t\t\t\tinput\n\t\t\t})\n\t\t}\n\t}\n\n\t/** *\n\t * @memberof Validate\n\t * @method showError\n\t * @description update the fields classes and inject the error message\n\t * @param {Object} input - the fields object - includes, input, parent and message nodes\n\t * @param {Array} error - an array of errors\n\t *\n\t * @return {void}\n\t */\n\tshowError = (input, error) => {\n\t\tconst { message } = input\n\n\t\tObject.entries(input).forEach(([, node]) => {\n\t\t\tnode.classList.remove('is-valid')\n\t\t\tnode.classList.add('has-error')\n\t\t})\n\n\t\tmessage.textContent = error.join(' \\n')\n\t}\n\n\t/** *\n\t * @memberof Validate\n\t * @method showError\n\t * @description update the fields classes and remove the error message\n\t * @param {Object} input - the fields object - includes, input, parent and message nodes\n\t *\n\t * @return {void}\n\t */\n\tremoveError = input => {\n\t\tconst { message } = input\n\n\t\tObject.entries(input).forEach(([, node]) => {\n\t\t\tnode.classList.remove('has-error')\n\t\t\tnode.classList.add('is-valid')\n\t\t})\n\n\t\tmessage.textContent = ''\n\t}\n\n\t/** *\n\t * @memberof Validate\n\t * @method onSubmit\n\t * @description handle form submission, check for errors and emit events\n\t * @param {Object} e - the events object\n\t *\n\t * @return {void}\n\t */\n\tonSubmit = e => {\n\t\tconst { rules, ajax } = this.options\n\n\t\tconst errors = validate(this.$el, rules, {\n\t\t\tfullMessages: false\n\t\t})\n\n\t\tif (errors || ajax) e.preventDefault()\n\n\t\tif (errors) {\n\t\t\tconst errorArray = Object.entries(errors).map(([key, value]) => {\n\t\t\t\tconst input = this.$fields[key]\n\t\t\t\tthis.handleErrors(input.field, value)\n\n\t\t\t\treturn {\n\t\t\t\t\tinput,\n\t\t\t\t\tvalue\n\t\t\t\t}\n\t\t\t})\n\n\t\t\tthis.emit('submit:errors', errorArray)\n\t\t} else {\n\t\t\tthis.emit('submit:success', {\n\t\t\t\tform: this.$el,\n\t\t\t\tfields: this.$fields,\n\t\t\t\tdata: new FormData(this.$el)\n\t\t\t})\n\t\t}\n\t}\n}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","'use strict';\n// 19.1.2.1 Object.assign(target, source, ...)\nvar getKeys = require('./_object-keys');\nvar gOPS = require('./_object-gops');\nvar pIE = require('./_object-pie');\nvar toObject = require('./_to-object');\nvar IObject = require('./_iobject');\nvar $assign = Object.assign;\n\n// should work with symbols and should have deterministic property order (V8 bug)\nmodule.exports = !$assign || require('./_fails')(function () {\n  var A = {};\n  var B = {};\n  // eslint-disable-next-line no-undef\n  var S = Symbol();\n  var K = 'abcdefghijklmnopqrst';\n  A[S] = 7;\n  K.split('').forEach(function (k) { B[k] = k; });\n  return $assign({}, A)[S] != 7 || Object.keys($assign({}, B)).join('') != K;\n}) ? function assign(target, source) { // eslint-disable-line no-unused-vars\n  var T = toObject(target);\n  var aLen = arguments.length;\n  var index = 1;\n  var getSymbols = gOPS.f;\n  var isEnum = pIE.f;\n  while (aLen > index) {\n    var S = IObject(arguments[index++]);\n    var keys = getSymbols ? getKeys(S).concat(getSymbols(S)) : getKeys(S);\n    var length = keys.length;\n    var j = 0;\n    var key;\n    while (length > j) if (isEnum.call(S, key = keys[j++])) T[key] = S[key];\n  } return T;\n} : $assign;\n","exports.f = Object.getOwnPropertySymbols;\n","import Behaviour from '@/core/Behaviour'\nimport Validate from '@/ui/Validation'\nimport { TweenLite, CSSPlugin } from 'gsap/all'\nimport domify from 'domify'\n\nconst plugins = [CSSPlugin] // eslint-disable-line\n\nconst confirmMessage = `<h4 class=\"h6 c-product-intro__added\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t<span class=\"flex items-center justify-center py-0-5\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<i class=\"icon icon--ui-tick mr-0-5 -mt-px\">\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t<use class=\"no-barba\" xlink:href=\"#ui-tick\" xmlns:xlink=\"http://www.w3.org/1999/xlink\"></use>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t</svg>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t</i>\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tForm sent!\n\t\t\t\t\t\t\t\t\t\t\t\t\t</span>\n\t\t\t\t\t\t\t\t\t\t\t\t</h4>`\n\nexport default class ContactForm extends Behaviour {\n\tmount = () => {\n\t\tconst validator = new Validate(this.$el, {\n\t\t\trules: {\n\t\t\t\tfromEmail: {\n\t\t\t\t\tpresence: {\n\t\t\t\t\t\tmessage: \"Email can't be blank\"\n\t\t\t\t\t},\n\t\t\t\t\temail: true\n\t\t\t\t},\n\n\t\t\t\t'message[name]': {\n\t\t\t\t\tpresence: {\n\t\t\t\t\t\tmessage: \"Name can't be blank\"\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tajax: true\n\t\t})\n\n\t\tvalidator.mount()\n\n\t\tvalidator.on('submit:success', ({ data }) => {\n\t\t\tfetch('/', {\n\t\t\t\tmethod: 'POST',\n\t\t\t\tbody: data\n\t\t\t})\n\t\t\t\t.then(response => {\n\t\t\t\t\tif (response.ok) {\n\t\t\t\t\t\tconst $messageContainer = document.getElementById('success-message')\n\n\t\t\t\t\t\t$messageContainer.appendChild(domify(confirmMessage))\n\n\t\t\t\t\t\tTweenLite.to('.o-form__content', 0.25, {\n\t\t\t\t\t\t\topacity: 0\n\t\t\t\t\t\t})\n\n\t\t\t\t\t\tTweenLite.to($messageContainer, 0.75, {\n\t\t\t\t\t\t\topacity: 1,\n\t\t\t\t\t\t\tdelay: 0.25\n\t\t\t\t\t\t})\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(error => log('Error:', error))\n\t\t})\n\t}\n}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n"],"sourceRoot":""}