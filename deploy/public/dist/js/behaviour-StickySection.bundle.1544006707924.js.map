{"version":3,"sources":["webpack:///./core/modules/eventBus.js","webpack:///./core/modules/refs.js","webpack:///./core/router/actions.js","webpack:///./core/modules/createEvents.js","webpack:///./core/Behaviour.js","webpack:///./core/modules/inview.js","webpack:///./core/modules/resizer.js","webpack:///./core/modules/index.js","webpack:///./behaviours/StickySection.js"],"names":["mitt__WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","eventBus","Object","__webpack_exports__","sanitizeName","name","replace","$0","$1","toUpperCase","removeValueLess","ramda_src_filter__WEBPACK_IMPORTED_MODULE_11___default","_ref","value","getDataAttributes","attr","test","cleanName","ramda_src_map__WEBPACK_IMPORTED_MODULE_10___default","_ref2","substr","flattenToObject","ramda_src_reduce__WEBPACK_IMPORTED_MODULE_9___default","acc","_ref3","key","composeProps","ramda_src_compose__WEBPACK_IMPORTED_MODULE_8___default","node","concat","getAttribute","_babel_runtime_helpers_objectSpread__WEBPACK_IMPORTED_MODULE_6___default","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_7___default","attributes","gatherProps","d","ROUTER_POP_EVENT","ROUTER_PAGE_NOT_FOUND","ROUTE_TRANSITION_LOAD","ROUTE_TRANSITION_EXIT","ROUTE_TRANSITION_RESOLVED","ROUTE_TRANSITION_BEFORE_DOM_UPDATE","ROUTE_TRANSITION_AFTER_DOM_UPDATE","ROUTE_TRANSITION_ENTER","ROUTE_TRANSITION_COMPLETE","createEvents","ramda_src_curry__WEBPACK_IMPORTED_MODULE_20___default","context","obj","$delegate","emit","_this","this","events","entries","map","_babel_runtime_helpers_slicedToArray__WEBPACK_IMPORTED_MODULE_16___default","fn","eventAndNode","ramda_src_compose__WEBPACK_IMPORTED_MODULE_15___default","ramda_src_map__WEBPACK_IMPORTED_MODULE_14___default","ramda_src_trim__WEBPACK_IMPORTED_MODULE_13___default","a","ramda_src_split__WEBPACK_IMPORTED_MODULE_12___default","capture","ramda_src_length__WEBPACK_IMPORTED_MODULE_11___default","ramda_src_match__WEBPACK_IMPORTED_MODULE_10___default","ramda_src_head__WEBPACK_IMPORTED_MODULE_9___default","funk","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_8___default","handleFunctions","evt","transform","fns","ramda_src_forEach__WEBPACK_IMPORTED_MODULE_7___default","event","_$delegate","apply","item","ramda_src_find__WEBPACK_IMPORTED_MODULE_6___default","_ref4","b","join","attachAll","root","arguments","length","undefined","dom_delegate__WEBPACK_IMPORTED_MODULE_21___default","_$delegate2","on","err","console","error","attach","remove","destroy","_$delegate3","off","$node","document","createEvent","initEvent","dispatchEvent","EventsMixin","superclass","_superclass","_class","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2___default","_babel_runtime_helpers_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3___default","_babel_runtime_helpers_inherits__WEBPACK_IMPORTED_MODULE_5___default","_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_1___default","$$events","call","$el","_babel_runtime_helpers_get__WEBPACK_IMPORTED_MODULE_4___default","prototype","MixinBuilder","_babel_runtime_helpers_classCallCheck__WEBPACK_IMPORTED_MODULE_1___default","_len","mixins","Array","_key","reduce","c","mixin","mix","$html","getElementsByTagName","$body","body","KEY_CODES","DELETE_KEY","SHIFT_KEY","CTRL_KEY","ALT_KEY","RETURN_KEY","ESC_KEY","SPACE_KEY","LEFT_KEY","UP_KEY","RIGHT_KEY","DOWN_KEY","A_KEY","S_KEY","CMD_KEY","Behaviour","el","$name","$$eventBus","_core_modules_eventBus__WEBPACK_IMPORTED_MODULE_4__","$data","_core_modules_refs__WEBPACK_IMPORTED_MODULE_3__","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_0___default","_babel_runtime_helpers_createClass__WEBPACK_IMPORTED_MODULE_2___default","routes","enter","_core_router_actions__WEBPACK_IMPORTED_MODULE_5__","exit","unmount","inview","base","observer","defaultOptions","rootMargin","threshold","isActive","onIntersection","forEach","type","isIntersecting","unobserve","target","window","IntersectionObserver","disconnect","watch","selector","_ref$options","options","nodes","querySelectorAll","ramda_src_forEach__WEBPACK_IMPORTED_MODULE_6___default","observe","resizer","handle","query","compose_default","replace_default","getPropertyValue","getCurrentMediaQuery","getComputedStyle","windowMatch","breakpoint","matchMedia","matches","getWindowProps","width","innerWidth","height","innerHeight","mapEventsToResize","map_default","slicedToArray_default","matchQueryTest","once","arg","objectSpread_default","match","bind","last","windowResizeEvent","_getWindowProps","addWindowResizeEvent","isRunning","rafThrottle_default","addEventListener","removeEventListener","cancel","bank","resizer_ScreenMixin","classCallCheck_default","possibleConstructorReturn_default","getPrototypeOf_default","inherits_default","createClass_default","$$screen","screens","get_default","StickySection","$parentEl","$childEl","querySelector","$stickySectionEl","stickybits__WEBPACK_IMPORTED_MODULE_10__","$headerTextContainer","$sectionNav","so","scroll_out__WEBPACK_IMPORTED_MODULE_11___default","scope","onShown","element","_babel_runtime_helpers_toConsumableArray__WEBPACK_IMPORTED_MODULE_1___default","classList","$visibleTextEl","id","add","direction","documentElement","dataset","scrollDirY","$activeNavLink","$newActiveLink","onHidden","e","preventDefault","$item","index","siema","goTo","click .c-group-factors__nav-link","(max-width: 767px)","props","log","cleanup","teardown","siema__WEBPACK_IMPORTED_MODULE_12___default","perPage","draggable","loop","prevButton","nextButton","createScrollOut","_core_Behaviour__WEBPACK_IMPORTED_MODULE_9__","with","_core_modules__WEBPACK_IMPORTED_MODULE_13__"],"mappings":"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","file":"behaviour-StickySection.bundle.1544006707924.js","sourcesContent":["import mitt from 'mitt'\n\nconst eventBus = mitt()\n\nexport default eventBus\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import * as R from 'ramda'\n\n// Does this need any comments?\n\nconst sanitizeName = name => name.replace(/-(.)/g, ($0, $1) => $1.toUpperCase())\n\nconst removeValueLess = R.filter(({ value }) => value)\n\nconst getDataAttributes = R.filter(\n\tattr =>\n\t\t/^data-/.test(attr.name) &&\n\t\tattr.name !== 'data-element' &&\n\t\tattr.name !== 'data-behaviour'\n)\n\nconst cleanName = R.map(({ name, value }) => ({\n\tname: sanitizeName(name.substr(5)),\n\tvalue\n}))\n\nconst flattenToObject = R.reduce((acc, { name: key, value }) => {\n\tacc[key] = value\n\treturn acc\n}, {})\n\nexport const composeProps = R.compose(\n\tflattenToObject,\n\tcleanName,\n\tremoveValueLess,\n\tgetDataAttributes\n)\n\nconst gatherProps = node => composeProps([...node.attributes])\n\nconst createRefs = R.reduce((acc, node) => {\n\tacc[`${sanitizeName(node.getAttribute('data-element'))}`] = {\n\t\tnode,\n\t\t...gatherProps(node)\n\t}\n\n\treturn acc\n}, {})\n\nexport default root => createRefs([...root.querySelectorAll('*[data-element]')])\n\n/**\n * Create a router\n * @memberof Behaviour\n * @mixin RefsMixin\n * @example\n * import ScreenMixin, { mix } from '@/core/ScreenMixin'\n * import {\n * \tRefsMixin,\n * } from '@/core/modules/'\n *\n * export default class ExampleWithAllTheThings extends mix(Behaviour).with(\n * \tRefsMixin\n * ) {\n * \tmount = () => {\n * \t\tthis.$$refs.someElement.node.classList.add('hello')\n * \t}\n * }\n * @return {RefsMixin}\n */\nexport const RefsMixin = superclass =>\n\tclass extends superclass {\n\t\tinit() {\n\t\t\tthis.$$refs = createRefs([\n\t\t\t\t...this.$el.querySelectorAll('*[data-element]')\n\t\t\t])\n\t\t\tif (super.init) super.init()\n\t\t}\n\t}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","/*\n\tNames for the events emiitted through the route class\n\n\tThe names should be pretty self explanatory \n*/\n\nexport const ROUTER_POP_EVENT = 'ROUTER_POP_EVENT'\n\nexport const ROUTER_PAGE_NOT_FOUND = 'ROUTER_PAGE_NOT_FOUND'\n\nexport const ROUTE_LINK_CLICKED = 'ROUTE_LINK_CLICKED'\n\nexport const ROUTE_TRANSITION_LOAD = 'ROUTE_TRANSITION_LOAD'\n\nexport const ROUTE_TRANSITION_EXIT = 'ROUTE_TRANSITION_EXIT'\n\nexport const ROUTE_TRANSITION_RESOLVED = 'ROUTE_TRANSITION_RESOLVED'\n\nexport const ROUTE_TRANSITION_BEFORE_DOM_UPDATE =\n\t'ROUTE_TRANSITION_BEFORE_DOM_UPDATE'\n\nexport const ROUTE_TRANSITION_AFTER_DOM_UPDATE =\n\t'ROUTE_TRANSITION_AFTER_DOM_UPDATE'\n\nexport const ROUTE_TRANSITION_ENTER = 'ROUTE_TRANSITION_ENTER'\n\nexport const ROUTE_TRANSITION_COMPLETE = 'ROUTE_TRANSITION_COMPLETE'\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import Delegate from 'dom-delegate'\nimport * as R from 'ramda'\n\n/**\n * @namespace createEvents\n */\n\n// do not use an array function... we need to be able to bind\nexport const createEvents = R.curry(function(context, obj) {\n\tconst events = Object.entries(obj).map(([key, fn]) => {\n\t\tconst eventAndNode = R.compose(R.map(R.trim), R.split(' '))(key)\n\t\tconst capture = !!R.compose(R.length, R.match(/(blur|mouse)/g), R.head)(\n\t\t\teventAndNode\n\t\t)\n\t\tconst funk = typeof fn === 'string' ? this[fn] : fn\n\t\treturn [...eventAndNode, funk, capture]\n\t})\n\n\tlet $delegate\n\tlet emit\n\n\tconst handleFunctions = R.curry((evt, transform, fns) => {\n\t\tR.compose(\n\t\t\tR.forEach(event => {\n\t\t\t\t$delegate[transform](...event)\n\t\t\t}),\n\t\t\tR.map(item =>\n\t\t\t\tR.find(([a, b]) => {\n\t\t\t\t\t// alls add/remove of events without a selector - things like keydown/keyup\n\t\t\t\t\tif (typeof b === 'function') {\n\t\t\t\t\t\treturn a === item\n\t\t\t\t\t}\n\t\t\t\t\treturn [a, b].join(' ') === item\n\t\t\t\t})(evt)\n\t\t\t)\n\t\t)(fns)\n\t})(events)\n\n\treturn {\n\t\t/**\n\t\t * @memberof createEvents\n\t\t * @function attachAll\n\t\t * @param {HTMLElement} root - the element to delegate to\n\t\t */\n\t\tattachAll(root = context) {\n\t\t\t$delegate = $delegate || new Delegate(root)\n\t\t\ttry {\n\t\t\t\tR.forEach(event => $delegate.on(...event))(events)\n\t\t\t} catch (err) {\n\t\t\t\t// eslint-disable-next-line\n\t\t\t\tconsole.error(\n\t\t\t\t\t'Handler must be a type of Function, careful with arrow functions, they will need to be above the events object:',\n\t\t\t\t\terr\n\t\t\t\t)\n\t\t\t}\n\t\t},\n\n\t\t/**\n\t\t * @memberof createEvents\n\t\t * @function attach\n\t\t * @param {Array} fns - an array of cuntions\n\t\t * @param {HTMLElement} root - the element to delegate to\n\t\t * @return {void}\n\t\t */\n\t\tattach(fns, root = context) {\n\t\t\t$delegate = $delegate || new Delegate(root)\n\t\t\thandleFunctions('on', fns)\n\t\t},\n\n\t\t/**\n\t\t * @memberof createEvents\n\t\t * @function remove\n\t\t * @param {Array} fns - an array of cuntions\n\t\t * @return {void}\n\t\t */\n\t\tremove(fns) {\n\t\t\tif (!$delegate) return\n\t\t\thandleFunctions('off', fns)\n\t\t},\n\n\t\t/**\n\t\t * @memberof createEvents\n\t\t * @function destroy\n\t\t * @return {void}\n\t\t */\n\t\tdestroy() {\n\t\t\tif (!$delegate) return\n\t\t\tR.forEach(event => $delegate.off(...event))(events)\n\t\t},\n\n\t\t/**\n\t\t * @memberof createEvents\n\t\t * @function destroy\n\t\t * @param {HTMLElement} root - the element to trigger an event on\n\t\t * @param {String} event - the name of the event to trigger\n\t\t * @return {void}\n\t\t */\n\t\temit($node, event) {\n\t\t\temit = emit || document.createEvent('HTMLEvents')\n\t\t\temit.initEvent(event, true, false)\n\t\t\t$node.dispatchEvent(emit)\n\t\t}\n\t}\n})\n\n/**\n * Create a router\n * @mixin EventsMixin\n * @description class used to manage adding/removing delegated dom events\n *\n * @example\n * import Behaviour, { mix } from '@/core/Behaviour'\n * import {\n * \tEventsMixin,\n * } from '@/core/modules/'\n *\n * export default class ExampleWithAllTheThings extends mix(Behaviour).with(\n * \tEventsMixin\n * ) {\n * \tevents = {\n * \t\t'click [data-link]': 'onClick'\n * \t}\n *\n * \tmount = () => {\n * \t\t// attach all the events\n * \t\tthis.$$events.attachAll()\n * \t\t// attach events by key\n * \t\tthis.$$events.attach(['click [data-link]'])\n * \t\t// remove events by key\n * \t\tthis.$$events.remove(['click [data-link]'])\n * \t\t// destroy all the events\n * \t\tthis.$$events.destroy()\n * \t}\n *\n * \tonClick = (e, elm) => {\n * \t\te.preventDefault()\n * \t\telm.classList.toggle('huzzah')\n * \t}\n * }\n * @return {EventsMixin}\n */\nexport const EventsMixin = superclass =>\n\tclass extends superclass {\n\t\tinit() {\n\t\t\tthis.$$events = createEvents.call(this, this.$el, this.events)\n\n\t\t\tif (super.init) super.init()\n\n\t\t\treturn this\n\t\t}\n\n\t\tdestroy() {\n\t\t\tthis.$$events.destroy()\n\t\t\tif (super.destroy) super.destroy()\n\t\t}\n\t}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import { composeProps } from '@/core/modules/refs'\nimport eventBus from '@/core/modules/eventBus'\nimport * as Actions from '@/core/router/actions'\n\n/**\n * @namespace dom\n */\n\nclass MixinBuilder {\n\tconstructor(superclass) {\n\t\tthis.superclass = superclass\n\t}\n\n\twith(...mixins) {\n\t\treturn mixins.reduce((c, mixin) => mixin(c), this.superclass)\n\t}\n}\n\nexport const mix = superclass => new MixinBuilder(superclass)\n\n/**\n *\n * @namespace Behavior\n * @description Behavior class to handle adding/removing functionality from the dom.\n * Use the mixins to add enhancements\n *\n * @class Behavior\n *\n * @param {HTMLElement} el - the html element to bind the behaviour too\n * @param {String} name - a name to give the behaviour\n *\n * @property {String} Behaviour.$name -  The name given to the behaviour\n * @property {HTMLElement} Behaviour.$el -  The element the behaviour is attached to\n * @property {HTMLElement} Behaviour.$body -  the body element\n * @property {HTMLElement} Behaviour.$html -  the html element\n * @property {Object} Behaviour.$data - any data attributes on the $el\n * @property {Function} Behaviour.$$$eventBus.on -  global event emitter, listen to events\n * @property {Function} Behaviour.$$$eventBus.off -  global event emitter, remove to events\n * @property {Function} Behaviour.$$$eventBus.emit -  global event emitter, emit event\n * @property {Object} Behavior.KEY_CODES\n * @property {Number} Behaviour.KEY_CODS.DELETE_KEY -  delete\n * @property {Number} Behaviour.KEY_CODS.SHIFT_KEY - shift\n * @property {Number} Behaviour.KEY_CODS.CTRL_KEY - control\n * @property {Number} Behaviour.KEY_CODS.ALT_KEY -  alt\n * @property {Number} Behaviour.KEY_CODS.RETURN_KEY - return\n * @property {Number} Behaviour.KEY_CODS.ESC_KEY - escape\n * @property {Number} Behaviour.KEY_CODS.SPACE_KEY - space\n * @property {Number} Behaviour.KEY_CODS.LEFT_KEY - left\n * @property {Number} Behaviour.KEY_CODS.UP_KEY - up\n * @property {Number} Behaviour.KEY_CODS.RIGHT_KEY - right\n * @property {Number} Behaviour.KEY_CODS.DOWN_KEY - down\n * @property {Number} Behaviour.KEY_CODS.CMD_KEY - command\n * @example\n * import Behaviour from '@/core/Behaviour'\n *\n * export default class ExampleWithAllTheThings Behaviour {\n * \tmount = () => {\n * \t\t// this.$el === the node with the data-behaviour\n * \t\tthis.$el.classList.add('mount')\n * \t\t// this.$body === <body></body>\n * \t\t// this.$html === <html></html>\n * \t\t// this.KEY_CODES === common key codes\n * \t\t// this.$data === any data attributes on this.$el\n * \t}\n *\n * \tunmount = () => {}\n * }\n *\n * @return {Behavior}\n */\nexport default (() => {\n\tconst $html = document.getElementsByTagName('html')[0]\n\tconst $body = document.body\n\tconst KEY_CODES = {\n\t\tDELETE_KEY: 8,\n\t\tSHIFT_KEY: 16,\n\t\tCTRL_KEY: 17,\n\t\tALT_KEY: 18,\n\t\tRETURN_KEY: 13,\n\t\tESC_KEY: 27,\n\t\tSPACE_KEY: 32,\n\t\tLEFT_KEY: 37,\n\t\tUP_KEY: 38,\n\t\tRIGHT_KEY: 39,\n\t\tDOWN_KEY: 40,\n\t\tA_KEY: 65,\n\t\tS_KEY: 83,\n\t\tCMD_KEY: 91\n\t}\n\n\treturn class Behaviour {\n\t\tconstructor(el = document, name = '') {\n\t\t\tthis.$name = name\n\t\t\tthis.$el = el\n\t\t\tthis.$body = $body\n\t\t\tthis.$html = $html\n\n\t\t\tthis.$$eventBus = eventBus\n\n\t\t\tthis.KEY_CODES = KEY_CODES\n\n\t\t\tthis.$data = this.$el.attributes\n\t\t\t\t? composeProps([...this.$el.attributes])\n\t\t\t\t: null // here lies a bug\n\t\t}\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method init\n\t\t * @description initialise the router events\n\t\t * @return {void}\n\t\t */\n\t\tinit() {\n\t\t\tif (this.routes) {\n\t\t\t\tif (this.routes.enter)\n\t\t\t\t\tthis.$$eventBus.on(Actions.ROUTE_TRANSITION_ENTER, this.routes.enter)\n\n\t\t\t\tif (this.routes.exit)\n\t\t\t\t\tthis.$$eventBus.on(Actions.ROUTE_TRANSITION_EXIT, this.routes.exit)\n\t\t\t}\n\t\t}\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method mount\n\t\t * @description called after instantiation\n\t\t * @return {void}\n\t\t */\n\t\tmount() {} // eslint-disable-line class-methods-use-this\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method unmount\n\t\t * @description called when destroying\n\t\t * @return {void}\n\t\t */\n\t\tunmount() {} // eslint-disable-line class-methods-use-this\n\n\t\t/**\n\t\t * Create a router\n\t\t * @memberof Behavior\n\t\t *\n\t\t * @method destroy\n\t\t * @description kill the current behaviour\n\t\t * @return {void}\n\t\t */\n\t\tdestroy() {\n\t\t\tthis.unmount()\n\n\t\t\tif (this.routes) {\n\t\t\t\tif (this.routes.enter)\n\t\t\t\t\tthis.$$eventBus.off(Actions.ROUTE_TRANSITION_ENTER, this.routes.enter)\n\n\t\t\t\tif (this.routes.exit)\n\t\t\t\t\tthis.$$eventBus.off(Actions.ROUTE_TRANSITION_EXIT, this.routes.exit)\n\t\t\t}\n\t\t}\n\t}\n})()\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import * as R from 'ramda'\n\nexport function inview(base = document, events = {}) {\n\tif (!events) return\n\n\tconst defaultOptions = {\n\t\trootMargin: '0px',\n\t\tthreshold: 0\n\t}\n\n\tlet isActive = false\n\tlet observer\n\n\tconst onIntersection = entries => {\n\t\tentries.forEach(item => {\n\t\t\tconst { isIntersecting } = item\n\t\t\tconst type = isIntersecting ? 'enter' : 'exit'\n\t\t\tif (events[type]) {\n\t\t\t\tconst remove = events[type](item)\n\n\t\t\t\tif (remove) {\n\t\t\t\t\tobserver.unobserve(item.target)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\t}\n\n\tfunction watch({ selector, options = defaultOptions }) {\n\t\tif (window.IntersectionObserver) {\n\t\t\tisActive = true\n\t\t\tobserver = new IntersectionObserver(onIntersection, options)\n\t\t\tconst nodes =\n\t\t\t\ttypeof selector === 'string'\n\t\t\t\t\t? [...base.querySelectorAll(selector)]\n\t\t\t\t\t: selector\n\n\t\t\tR.forEach(item => {\n\t\t\t\tobserver.observe(item)\n\t\t\t})(nodes)\n\t\t}\n\t}\n\n\tfunction destroy() {\n\t\tif (observer && isActive && window.IntersectionObserver) {\n\t\t\tobserver.disconnect()\n\t\t\tisActive = false\n\t\t}\n\t}\n\n\treturn {\n\t\tdestroy,\n\t\twatch\n\t}\n}\n\n/**\n * Create a router\n * @memberof Behaviour\n * @mixin InviewMixin\n * @description class used to manage elements entering/exiting the viewport\n * @example\n * import InviewMixin, { mix } from '@/core/ScreenMixin'\n * import {\n * \tRefsMixin,\n * } from '@/core/modules/'\n *\n * export default class ExampleWithAllTheThings extends mix(Behaviour).with(\n * \tInviewMixin\n * ) {\n * \tmount = () => {\n * \t\tthis.$$inview.watch({\n * \t\t\tselector: '[data-element]'\n * \t\t})\n * \t}\n *\n * \tviewport = {\n *\t\tenter: node => {\n *\t\t\tlog('exit', node)\n *\t\t},\n *\n *\t\texit: node => {\n *\t\t\tlog('exit', node)\n *\t\t}\n *\t}\n * }\n * @return {InviewMixin}\n */\nexport const InviewMixin = superclass =>\n\tclass extends superclass {\n\t\tinit() {\n\t\t\tconst events = this.viewport\n\t\t\tconst base = this.$el\n\t\t\tthis.$$inview = inview(base, events)\n\n\t\t\tif (super.init) super.init()\n\n\t\t\treturn this\n\t\t}\n\n\t\tdestroy() {\n\t\t\tthis.$$inview.destroy()\n\t\t\tif (super.destroy) super.destroy()\n\t\t}\n\t}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import eventBus from '@/core/modules/eventBus'\nimport raf from 'raf-throttle'\nimport * as R from 'ramda'\n\n/**\n * @namespace resizer\n */\n\nexport const resizer = (function() {\n\t// get the :after style from the body\n\tconst getStyle = () => window.getComputedStyle(document.body, ':after')\n\n\t// get the content prop and give it a clean\n\tconst query = R.compose(\n\t\tR.replace(/'|\"/g, ''),\n\t\titem => item.getPropertyValue('content')\n\t)\n\n\t// compose the functions together to return the current breakpoint\n\tconst getCurrentMediaQuery = R.compose(\n\t\tquery,\n\t\tgetStyle\n\t)\n\n\tconst windowMatch = breakpoint => window.matchMedia(breakpoint).matches\n\n\t/**\n\t * @memberof resizer\n\t * @function getWindowProps\n\t * @return {Object} with the current width/height/breakpoint\n\t */\n\tfunction getWindowProps() {\n\t\tconst width = window.innerWidth\n\t\tconst height = window.innerHeight\n\t\tconst query = getCurrentMediaQuery()\n\n\t\treturn {\n\t\t\twidth,\n\t\t\theight,\n\t\t\tquery\n\t\t}\n\t}\n\n\t/**\n\t * @memberof resizer\n\t * @function mapEventsToResize\n\t * @param {Array} events - array of functions to test/trigger\n\t * @return {Object} with the current width/height/breakpoint\n\t */\n\tfunction mapEventsToResize(events) {\n\t\treturn R.compose(\n\t\t\tR.map(([breakpoint, fn]) => {\n\t\t\t\t// <REFACTOR></REFACTOR> me thinks this could be written in\n\t\t\t\t// a way that it can be defined outside of the loop\n\t\t\t\tconst once = (arg, fn) => {\n\t\t\t\t\tif (once.value === arg) return\n\t\t\t\t\tfn({ match: arg, ...getWindowProps() })\n\t\t\t\t\tonce.value = arg\n\t\t\t\t}\n\n\t\t\t\t// <REFACTOR></REFACTOR> me thinks this could be written in\n\t\t\t\t// a way that it can be defined outside of the loop\n\t\t\t\tconst test = (breakpoint, fn) => {\n\t\t\t\t\tconst state = windowMatch(breakpoint)\n\t\t\t\t\tonce(state, fn)\n\t\t\t\t}\n\n\t\t\t\tconst matchQueryTest = test.bind(null, breakpoint, fn)\n\t\t\t\t// if (windowMatch(breakpoint)) matchQueryTest()\n\t\t\t\teventBus.on('window:resize', matchQueryTest)\n\n\t\t\t\treturn matchQueryTest\n\t\t\t}),\n\t\t\tObject.entries\n\t\t)(events)\n\t}\n\n\t// setup a handle reference\n\tlet handle\n\n\t// reference the current, will become to previous one\n\tlet last = getCurrentMediaQuery()\n\n\t/**\n\t * @description The throttled window resize event\n\t * @memberof resizer\n\t * @function windowResizeEvent\n\t *\n\t * @return {void}\n\t */\n\tfunction windowResizeEvent() {\n\t\tconst { width, height, query } = getWindowProps()\n\n\t\teventBus.emit('window:resize', {\n\t\t\twidth,\n\t\t\theight,\n\t\t\tquery\n\t\t})\n\n\t\tif (query !== last) {\n\t\t\tlast = query\n\t\t\teventBus.emit('window:breakpoint', {\n\t\t\t\twidth,\n\t\t\t\theight,\n\t\t\t\tquery\n\t\t\t})\n\t\t}\n\t}\n\n\t/**\n\t * @description add the window event - return a destroy method\n\t * @memberof resizer\n\t * @function addWindowResizeEvent\n\t *\n\t * @return {Object}\n\t */\n\tfunction addWindowResizeEvent() {\n\t\tif (addWindowResizeEvent.isRunning) return\n\t\taddWindowResizeEvent.isRunning = true\n\t\thandle = raf(windowResizeEvent)\n\n\t\twindow.addEventListener('resize', handle, false)\n\n\t\treturn {\n\t\t\tdestroy() {\n\t\t\t\tif (!addWindowResizeEvent.isRunning) return\n\t\t\t\taddWindowResizeEvent.isRunning = false\n\t\t\t\twindow.removeEventListener('resize', handle, false)\n\t\t\t\thandle.cancel()\n\t\t\t}\n\t\t}\n\t}\n\n\taddWindowResizeEvent.isRunning = false\n\n\treturn (events = {}) => {\n\t\taddWindowResizeEvent()\n\n\t\t// store the current events\n\t\tlet bank = mapEventsToResize(events)\n\n\t\treturn {\n\t\t\tget breakpoint() {\n\t\t\t\treturn getCurrentMediaQuery()\n\t\t\t},\n\n\t\t\tget width() {\n\t\t\t\treturn window.innerWidth\n\t\t\t},\n\n\t\t\tget height() {\n\t\t\t\treturn window.innerHeight\n\t\t\t},\n\n\t\t\tdestroy() {\n\t\t\t\tbank.forEach(fn => eventBus.off('window:resize', fn))\n\t\t\t\tbank = []\n\t\t\t},\n\n\t\t\t...eventBus\n\t\t}\n\t}\n})()\n\n/**\n * Create a router\n * @memberof Behaviour\n * @mixin ScreenMixin\n * @description class used to handle window resize events\n * @example\n * import ScreenMixin, { mix } from '@/core/ScreenMixin'\n * import {\n * \tScreenMixin,\n * } from '@/core/modules/'\n *\n * export default class ExampleWithAllTheThings extends mix(Behaviour).with(\n * \tScreenMixin\n * ) {\n * \tmount = () => {\n * \t\tthis.$$screen.on('window:resize', () => {})\n * \t}\n *\n *\tscreens = {\n *\t\t'(min-width: 1024px)': ({ match, ...rest }) => {\n *\t\t\tif (match) {\n *\t\t\t\tlog(rest)\n *\t\t\t}\n *\t\t}\n *\t}\n * }\n * @return {RefsMixin}\n */\nexport const ScreenMixin = superclass =>\n\tclass extends superclass {\n\t\tinit() {\n\t\t\tthis.$$screen = resizer(this.screens)\n\t\t\tif (super.init) super.init()\n\t\t\treturn this\n\t\t}\n\n\t\tdestroy() {\n\t\t\tthis.$$screen.destroy()\n\t\t\tif (super.destroy) super.destroy()\n\t\t}\n\t}\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","export { EventsMixin } from './createEvents'\nexport { InviewMixin } from './inview'\nexport { RefsMixin } from './refs'\nexport { ScreenMixin } from './resizer'\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n","import Behaviour, { mix } from '@/core/Behaviour'\nimport stickybits from 'stickybits'\n// import SponLax from 'sponlax'\nimport ScrollOut from 'scroll-out'\nimport Siema from 'siema'\nimport { EventsMixin, ScreenMixin } from '@/core/modules'\n\nexport default class StickySection extends mix(Behaviour).with(\n\tEventsMixin,\n\tScreenMixin\n) {\n\tsiema = null\n\n\tmount = () => {\n\t\tthis.$parentEl = this.$el\n\t\tthis.$childEl = this.$el.querySelector('.c-group-factors__header')\n\n\t\t// this.$$eventBus.emit('window:resize')\n\t}\n\n\tcreateScrollOut = () => {\n\t\tthis.$stickySectionEl = stickybits(this.$childEl)\n\n\t\tconst $headerTextContainer =\n\t\t\tthis.$el.querySelector('.c-group-factors__header-container') || null\n\t\tconst $sectionNav = this.$el.querySelector('.c-group-factors__nav') || null\n\n\t\tthis.so = ScrollOut({\n\t\t\tscope: this.$el,\n\t\t\tonShown: element => {\n\t\t\t\t// Remove all visible classes\n\t\t\t\t;[...this.$el.querySelectorAll('[data-scroll-item]')].forEach(item =>\n\t\t\t\t\titem.classList.remove('is-visible')\n\t\t\t\t)\n\n\t\t\t\t// Add visible class to corresponding element in viewport\n\t\t\t\tconst $visibleTextEl = this.$el.querySelector(\n\t\t\t\t\t`[data-scroll-item=\"${element.id}\"]`\n\t\t\t\t)\n\t\t\t\tif ($visibleTextEl) $visibleTextEl.classList.add('is-visible')\n\n\t\t\t\t/* Triggered when an element is shown */\n\t\t\t\tconst direction =\n\t\t\t\t\tdocument.documentElement.dataset.scrollDirY === '1' ? 1 : -1\n\t\t\t\tconst $activeNavLink =\n\t\t\t\t\tdocument.querySelector('.c-group-factors__nav-link.is-active') || null\n\t\t\t\tif ($activeNavLink) $activeNavLink.classList.remove('is-active')\n\n\t\t\t\tconst $newActiveLink =\n\t\t\t\t\tdocument.querySelector(\n\t\t\t\t\t\t`.c-group-factors__nav-link[href=\"#${element.id}\"]`\n\t\t\t\t\t) || null\n\n\t\t\t\tif ($newActiveLink) $newActiveLink.classList.add('is-active')\n\n\t\t\t\tif (\n\t\t\t\t\t(element.id === 'factor-1' && direction === 1) ||\n\t\t\t\t\t(element.id === 'factor-5' && direction === -1) ||\n\t\t\t\t\t(element.id === 'factor-4' && direction === -1)\n\t\t\t\t) {\n\t\t\t\t\t$sectionNav.classList.add('is-visible')\n\n\t\t\t\t\tif ($headerTextContainer)\n\t\t\t\t\t\t$headerTextContainer.classList.add('is-reduced')\n\t\t\t\t}\n\t\t\t},\n\t\t\tonHidden: element => {\n\t\t\t\t/* Triggered when an element is hidden */\n\t\t\t\tconst direction =\n\t\t\t\t\tdocument.documentElement.dataset.scrollDirY === '1' ? 1 : -1\n\n\t\t\t\tif (\n\t\t\t\t\t(element.id === 'factor-0' && direction === 1) ||\n\t\t\t\t\t(element.id === 'factor-4' && direction === 1)\n\t\t\t\t) {\n\t\t\t\t\t$sectionNav.classList.remove('is-visible')\n\t\t\t\t}\n\n\t\t\t\tif (element.id === 'factor-1' && direction === -1) {\n\t\t\t\t\t$headerTextContainer.classList.remove('is-reduced')\n\t\t\t\t\t$sectionNav.classList.remove('is-visible')\n\n\t\t\t\t\t// Remove all visible classes\n\t\t\t\t\t;[...this.$el.querySelectorAll('[data-scroll-item]')].forEach(item =>\n\t\t\t\t\t\titem.classList.remove('is-visible')\n\t\t\t\t\t)\n\t\t\t\t}\n\t\t\t}\n\t\t})\n\n\t\treturn this.so\n\t}\n\n\tpaginationHandler = (e, $el) => {\n\t\te.preventDefault()\n\t\t;[...document.querySelectorAll('.c-group-factors__nav-link')].forEach(\n\t\t\t$item => $item.classList.remove('is-active')\n\t\t)\n\n\t\t$el.classList.add('is-active')\n\n\t\tconst { index } = $el.dataset\n\t\tif (this.siema && index) this.siema.goTo(index)\n\t}\n\n\tevents = {\n\t\t'click .c-group-factors__nav-link': 'paginationHandler'\n\t}\n\n\tscreens = {\n\t\t'(max-width: 767px)': props => {\n\t\t\tif (props.match) {\n\t\t\t\tlog('1111')\n\t\t\t\tif (this.$stickySectionEl) this.$stickySectionEl.cleanup()\n\t\t\t\tif (this.so) this.so.teardown()\n\n\t\t\t\tif (!this.siema) {\n\t\t\t\t\tthis.siema = new Siema({\n\t\t\t\t\t\tselector: '.siema',\n\t\t\t\t\t\tperPage: 1,\n\t\t\t\t\t\tdraggable: true,\n\t\t\t\t\t\tloop: false,\n\t\t\t\t\t\tprevButton: false,\n\t\t\t\t\t\tnextButton: false\n\t\t\t\t\t})\n\n\t\t\t\t\tthis.$$events.attachAll()\n\t\t\t\t}\n\n\t\t\t\tlog('siema no exist')\n\t\t\t} else {\n\t\t\t\tlog('2222')\n\t\t\t\tif (!this.so) this.createScrollOut()\n\n\t\t\t\tif (this.siema) {\n\t\t\t\t\tthis.siema.destroy(true)\n\t\t\t\t\tthis.siema = null\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\tunmount = () => {\n\t\tif (this.$stickySectionEl) this.$stickySectionEl.cleanup()\n\t\tif (this.so) this.so.teardown()\n\t}\n}\n\n// window.addEventListener('resize', () => {\n//   stickybitsInstancetoBeUpdated.update();\n// });\n\n\nif (module.hot) {module.hot.accept(function(err) {\nif (err) {\nconsole.error(err);\n}\n});\n}\n"],"sourceRoot":""}